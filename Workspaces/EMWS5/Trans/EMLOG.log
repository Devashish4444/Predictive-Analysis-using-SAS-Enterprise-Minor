*------------------------------------------------------------*
User:                skokse_uncc
Date:                April 25, 2020
Time:                16:44:53
Site:                70117250
Platform:            X64_DSRV16
Maintenance Release: 9.04.01M5P091317
EM Version:          14.3
* 
*------------------------------------------------------------*
* Training Log
Date:                April 25, 2020
Time:                16:44:47
*------------------------------------------------------------*
11424  proc freq data=EMWS5.Trans_VariableSet noprint;
11425  table ROLE*LEVEL/out=WORK.TransMETA;
11426  run;
 
NOTE: There were 27 observations read from the data set EMWS5.TRANS_VARIABLESET.
NOTE: The data set WORK.TRANSMETA has 5 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
 
 
11427  proc print data=WORK.TransMETA label noobs;
11428  var ROLE LEVEL COUNT;
11429  label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
11430  title9 ' ';
11431  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
11432  run;
 
NOTE: There were 5 observations read from the data set WORK.TRANSMETA.
NOTE: The PROCEDURE PRINT printed page 1.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11433  title10;
 
11434  data WORK.M01EY4LC;
11435  set WORK.M01EY4LC;
11436  if (METHOD='NONE' and ROLE ne 'FREQ') or (role = 'REJECTED' and METHOD = 'DEFAULT') then delete;
11437  run;
 
NOTE: There were 27 observations read from the data set WORK.M01EY4LC.
NOTE: The data set WORK.M01EY4LC has 26 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: View EMWS5.IDS_DATA.VIEW used (Total process time):
      real time           0.12 seconds
      cpu time            0.01 seconds
 
NOTE: There were 9686 observations read from the data set DATA.PVA97NK.
11502  *------------------------------------------------------------*;
11503  * Trans: Computing Summary Statistics;
11504  *------------------------------------------------------------*;
11505  data WORK.M2J95OWY;
11506  set WORK.M2J95OWY;
11507  if (role = 'REJECTED') then role = 'INPUT';
11508  run;
 
NOTE: There were 26 observations read from the data set WORK.M2J95OWY.
NOTE: The data set WORK.M2J95OWY has 26 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11509  *------------------------------------------------------------* ;
11510  * EM: DMDBClass Macro ;
11511  *------------------------------------------------------------* ;
11512  %macro DMDBClass;
11513      DemCluster(ASC) DemGender(ASC) DemHomeOwner(ASC) StatusCat96NK(ASC)
11514     StatusCatStarAll(ASC) TargetB(DESC)
11515  %mend DMDBClass;
11516  *------------------------------------------------------------* ;
11517  * EM: DMDBVar Macro ;
11518  *------------------------------------------------------------* ;
11519  %macro DMDBVar;
11520      DemAge DemMedHomeValue DemMedIncome DemPctVeterans GiftAvg36 GiftAvgAll
11521     GiftAvgCard36 GiftAvgLast GiftCnt36 GiftCntAll GiftCntCard36 GiftCntCardAll
11522     GiftTimeFirst GiftTimeLast PromCnt12 PromCnt36 PromCntAll PromCntCard12
11523     PromCntCard36 PromCntCardAll
11524  %mend DMDBVar;
11525  *------------------------------------------------------------*;
11526  * EM: Create DMDB;
11527  *------------------------------------------------------------*;
11528  proc dmdb batch data=EMWS5.Ids_DATA
11529  dmdbcat=WORK.EM_DMDB
11530  classout=WORK.Transclassout
11531  maxlevel = 513
11532  ;
11533  class %DMDBClass;
11534  var %DMDBVar;
11535  target
11536  TargetB
11537  ;
11538  run;
 
NOTE: Records processed = 9686   Memory used = 511K.
NOTE: View EMWS5.IDS_DATA.VIEW used (Total process time):
      real time           0.05 seconds
      cpu time            0.04 seconds
 
NOTE: There were 9686 observations read from the data set DATA.PVA97NK.
NOTE: There were 9686 observations read from the data set EMWS5.IDS_DATA.
NOTE: The data set WORK.TRANSCLASSOUT has 69 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.06 seconds
      cpu time            0.04 seconds
 
 
11539  quit;
11540  *--- end code ---*;
 
11541  data WORK.TransINTERVALMETA;
11542  set WORK.M01EY4LC;
11543  if LEVEL ne 'INTERVAL' then delete;
11544  run;
 
NOTE: There were 26 observations read from the data set WORK.M01EY4LC.
NOTE: The data set WORK.TRANSINTERVALMETA has 20 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11545  *------------------------------------------------------------*;
11546  * Trans: Determining Variables to Scale;
11547  *------------------------------------------------------------*;
11548  data WORK.M12CI_82;
11549  set WORK.M12CI_82;
11550  where (TYPE="N" and (METHOD in("MAX_NORM", "MAX_CORR", "EQUALIZE", "OP_MAX_NORM", "OP_EQUALIZE"))) or (ROLE eq "FREQ");
11551  run;
 
NOTE: There were 0 observations read from the data set WORK.M12CI_82.
      WHERE ((TYPE='N') and METHOD in ('EQUALIZE', 'MAX_CORR', 'MAX_NORM', 'OP_EQUALIZE', 'OP_MAX_NORM')) or (ROLE='FREQ');
NOTE: The data set WORK.M12CI_82 has 0 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: View EMWS5.IDS_DATA.VIEW used (Total process time):
      real time           0.16 seconds
      cpu time            0.17 seconds
 
*------------------------------------------------------------*
* Score Log
Date:                April 25, 2020
Time:                16:44:50
*------------------------------------------------------------*
11655  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK._CODEINPUT1;
11656  Rev_GiftTimeLast = 1*GiftTimeLast;
11657  run;
 
NOTE: Dependency structure written to data set WORK._CODEINPUT1.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11658  quit;
 
11659  data WORK._CODEINPUT1;
11660  length ROLE $32 LEVEL $8 REPORT $1;
11661  retain _FormulaNum 1 ROLE "INPUT" REPORT "N" LEVEL "INTERVAL";
11662  set WORK._CODEINPUT1(keep=RHS rename=(RHS=INPUTNAME));
11663  run;
 
NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK._CODEINPUT1 has 1 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11664  proc sort data=WORK._CODEINPUT1 NODUPKEY;
11665  by INPUTNAME;
11666  run;
 
NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._CODEINPUT1 has 1 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11667  proc append base=WORK.TRANS_FORMULAVARS data=WORK._CODEINPUT1;
11668  run;
 
NOTE: Appending WORK._CODEINPUT1 to WORK.TRANS_FORMULAVARS.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11669  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK._CODEINPUT2;
11670  MonetaryValue = GiftAvgAll*GiftCntAll;
11671  run;
 
NOTE: Dependency structure written to data set WORK._CODEINPUT2.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
11672  quit;
 
11673  data WORK._CODEINPUT2;
11674  length ROLE $32 LEVEL $8 REPORT $1;
11675  retain _FormulaNum 2 ROLE "INPUT" REPORT "N" LEVEL "INTERVAL";
11676  set WORK._CODEINPUT2(keep=RHS rename=(RHS=INPUTNAME));
11677  run;
 
NOTE: There were 2 observations read from the data set WORK._CODEINPUT2.
NOTE: The data set WORK._CODEINPUT2 has 2 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11678  proc sort data=WORK._CODEINPUT2 NODUPKEY;
11679  by INPUTNAME;
11680  run;
 
NOTE: There were 2 observations read from the data set WORK._CODEINPUT2.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._CODEINPUT2 has 2 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11681  proc append base=WORK.TRANS_FORMULAVARS data=WORK._CODEINPUT2;
11682  run;
 
NOTE: Appending WORK._CODEINPUT2 to WORK.TRANS_FORMULAVARS.
NOTE: There were 2 observations read from the data set WORK._CODEINPUT2.
NOTE: 2 observations added.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
11683  data WORK.TRANS_FORMULAVARS;
11684  length UNAME $32;
11685  set WORK.TRANS_FORMULAVARS;
11686  UNAME = upcase(INPUTNAME);
11687  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11688  proc sort data=WORK.TRANS_FORMULAVARS;
11689  by UNAME;
11690  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11691  data _temp;
11692  set EMWS5.Trans_VariableSet(keep=NAME LEVEL ROLE TYPE REPORT rename=(NAME=INPUTNAME LEVEL=INPUTLEVEL ROLE=INPUTROLE TYPE=INPUTTYPE REPORT=INPUTREPORT));
11693  length UNAME $32;
11694  UNAME = upcase(INPUTNAME);
11695  run;
 
NOTE: There were 27 observations read from the data set EMWS5.TRANS_VARIABLESET.
NOTE: The data set WORK._TEMP has 27 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
11696  proc sort data=_temp;
11697  by UNAME;
11698  run;
 
NOTE: There were 27 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 27 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11699  data WORK.TRANS_FORMULAVARS;
11700  merge WORK.TRANS_FORMULAVARS(in=_a) _temp(in=_b);
11701  by UNAME;
11702  if _a and _b then output;
11703  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 27 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
11704  proc sort data=WORK.TRANS_FORMULAVARS;
11705  by _FormulaNum UNAME;
11706  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11707  data WORK.TRANS_FORMULAVARS _target(keep=_FormulaNum);
11708  length ROLE $32 REPORT $1;
11709  set WORK.TRANS_FORMULAVARS;
11710  by _FormulaNum;
11711  if INPUTROLE = 'TARGET' then output _target;
11712  if first._FormulaNum then do;
11713  if ^last._FormulaNum then do;
11714  INPUTNAME='';
11715  INPUTROLE='';
11716  INPUTTYPE='';
11717  INPUTREPORT='';
11718  end;
11719  output WORK.TRANS_FORMULAVARS;
11720  end;
11721  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 2 observations and 10 variables.
NOTE: The data set WORK._TARGET has 0 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11722  data _temp;
11723  set EMWS5.Trans_FORMULA;
11724  _FormulaNum = _N_;
11725  run;
 
NOTE: There were 2 observations read from the data set EMWS5.TRANS_FORMULA.
NOTE: The data set WORK._TEMP has 2 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
11726  data WORK.TRANS_CODEFORMULA;
11727  length Name $32 Formula $300 Role $32 Level $10 REPORT $1;
11728  label NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA = "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,  NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,  NOQUOTE))" LEVEL =
11729     "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel,  NOQUOTE))" REPORT = "%sysfunc(sasmsg(sashelp.dmine, meta_report_vlabel,  NOQUOTE))" _targetFlag = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetbased_vlabel,  NOQUOTE))" INPUTNAME =
11730     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputname_vlabel,  NOQUOTE))" INPUTLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputlevel_vlabel,  NOQUOTE))" INPUTROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputrole_vlabel,  NOQUOTE))" INPUTTYPE =
11731     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputtype_vlabel,  NOQUOTE))";
11732  drop _FormulaNum UNAME;
11733  _targetFlag = 0;
11734  merge _temp(in=_a) WORK.TRANS_FORMULAVARS(in=_b) _target(in=_c);
11735  by _FormulaNum;
11736  _targetFlag = 0;
11737  if _c then _targetFlag=1;
11738  if INPUT ne '' then if _a and ^_b then delete;
11739  if ROLE = '' then do;
11740  if INPUTROLE = '' then ROLE='INPUT';
11741  else ROLE = INPUTROLE;
11742  end;
11743  if REPORT = '' then do;
11744  if INPUTREPORT = '' then REPORT='N';
11745  else REPORT = INPUTREPORT;
11746  end;
11747  run;
 
NOTE: Variable INPUT is uninitialized.
NOTE: There were 2 observations read from the data set WORK._TEMP.
NOTE: There were 2 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 0 observations read from the data set WORK._TARGET.
NOTE: The data set WORK.TRANS_CODEFORMULA has 2 observations and 24 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
 
 
11748  filename _code "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS5\Trans\FORMULAFLOWCODE.sas";
11749  data _null_;
11750  set WORK.TRANS_CODEFORMULA;
11751  file _code;
11752  if type eq 'C' and length > 0 then do;
11753  put 'length ' name ' $' length ';';
11754  end;
11755  if format ne '' then do;
11756  put 'format ' name format ';';
11757  end;
11758  length deqLabel $202;
11759  if label ne '' then do;
11760  deqlabel = tranwrd(label, '"', '""');
11761  put 'label ' name '="' deqlabel '";';
11762  end;
11763  if name ne '' and formula ne '' then do;
11764  put name '=' formula ';';
11765  end;
11766  run;
 
NOTE: The file _CODE is:
      Filename=\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS5\Trans\FORMULAFLOWCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=25Apr2020:16:44:49,
      Create Time=25Apr2020:16:44:49
 
NOTE: 2 records were written to the file _CODE.
      The minimum record length was 34.
      The maximum record length was 38.
NOTE: There were 2 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
 
 
11767  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
11768  filename _code "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS5\Trans\FORMULAPUBLISHCODE.sas";
11769  data _null_;
11770  set WORK.TRANS_CODEFORMULA;
11771  file _code;
11772  if _targetFlag eq 0 then do;
11773  if type eq 'C' and length > 0 then do;
11774  put 'length ' name ' $' length ';';
11775  end;
11776  if format ne '' then do;
11777  put 'format ' name format ';';
11778  end;
11779  length deqLabel $202;
11780  if label ne '' then do;
11781  deqlabel = tranwrd(label, '"', '""');
11782  put 'label ' name '="' deqlabel '";';
11783  end;
11784  if name ne '' and formula ne '' then do;
11785  put name '=' formula ';';
11786  end;
11787  end;
11788  run;
 
NOTE: The file _CODE is:
      Filename=\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS5\Trans\FORMULAPUBLISHCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=25Apr2020:16:44:49,
      Create Time=25Apr2020:16:44:49
 
NOTE: 2 records were written to the file _CODE.
      The minimum record length was 34.
      The maximum record length was 38.
NOTE: There were 2 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
 
 
11789  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
11790  filename _code "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS5\Trans\FORMULADELTACODE.sas";
11791  data _null_;
11792  set WORK.TRANS_CODEFORMULA;
11793  file _code;
11794  length String $200;
11795  if ROLE eq '' then ROLE = 'REJECTED';
11796  if REPORT eq '' then REPORT = 'N';
11797  String = 'if NAME="'!!strip(name)!!'" then do;';
11798  put / string;
11799  String = '   ROLE ="'!!strip(role)!!'";';
11800  put string;
11801  String = '   REPORT ="'!!strip(report)!!'";';
11802  put string;
11803  if LEVEL ne '' then do;
11804  String = '   LEVEL ="'!!strip(level)!!'";';
11805  put string;
11806  end;
11807  put 'end;';
11808  if INPUTNAME ne '' then do;
11809  String = 'if NAME="'!!strip(INPUTNAME)!!'" then delete;';
11810  put String;
11811  end;
11812  run;
 
NOTE: The file _CODE is:
      Filename=\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS5\Trans\FORMULADELTACODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=25Apr2020:16:44:49,
      Create Time=25Apr2020:16:44:49
 
NOTE: 13 records were written to the file _CODE.
      The minimum record length was 0.
      The maximum record length was 35.
NOTE: There were 2 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
 
 
11813  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this session.
11814  proc print data = EMWS5.Trans_FORMULA(obs=500) noobs label;
11815  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_formulatransformations_title, NOQUOTE))";
11816  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11817  var Name ROLE LEVEL FORMULA;
11818  run;
 
NOTE: There were 2 observations read from the data set EMWS5.TRANS_FORMULA.
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11819  title9;
11820  title10;
 
11821  filename emflow "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS5\Trans\EMFLOWSCORE.sas";
11822  *------------------------------------------------------------*;
11823  * Trans: Scoring DATA data;
11824  *------------------------------------------------------------*;
11825  data EMWS5.Trans_TRAIN
11826  / view=EMWS5.Trans_TRAIN
11827  ;
11828  set EMWS5.Ids_DATA
11829  ;
11830  %inc emflow;
11836  run;
 
NOTE: DATA STEP view saved on file EMWS5.TRANS_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS5.IDS_DATA.VIEW used (Total process time):
      real time           0.14 seconds
      cpu time            0.03 seconds
 
NOTE: DATA statement used (Total process time):
      real time           0.15 seconds
      cpu time            0.03 seconds
 
 
11837  quit;
11838  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.
 
11839  *------------------------------------------------------------*;
11840  * Trans: Computing metadata for TRAIN data;
11841  *------------------------------------------------------------*;
 
NOTE: View EMWS5.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
NOTE: View EMWS5.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
*------------------------------------------------------------*
* Report Log
Date:                April 25, 2020
Time:                16:44:51
*------------------------------------------------------------*
12218  *------------------------------------------------------------*;
12219  * &msgString;
12220  *------------------------------------------------------------*;
12221  filename _flowref "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS5\Trans\EMFLOWSCORE.sas";
12222  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK.TRANS_SCOREINPUTS;
12223  %INCLUDE _flowref;
12229  run;
 
NOTE: Dependency structure written to data set WORK.TRANS_SCOREINPUTS.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12230  quit;
12231  data WORK.TRANS_SCOREINPUTS;
12232  set WORK.TRANS_SCOREINPUTS(keep=RHS rename=(RHS=NAME));
12233  length UNAME $32;
12234  UNAME = upcase(NAME);
12235  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12236  proc sort data=WORK.TRANS_SCOREINPUTS NODUPKEY;
12237  by UNAME;
12238  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12239  filename _flowref;
NOTE: Fileref _FLOWREF has been deassigned.
12240  %let SYSCC = 0;
12241  *------------------------------------------------------------*;
12242  * transformcombinevariables;
12243  *------------------------------------------------------------*;
12244  data WORK.TRANS_OUTPUTVARS;
12245  length Uname inputName $32 inputLevel $10 inputType $1 _MetaFlag 8;
12246  set
12247  EMWS5.Trans_FORMULA
12248  ;
12249  _MetaFlag=0;
12250  uname = upcase(name);
12251  run;
 
NOTE: Variable inputName is uninitialized.
NOTE: Variable inputLevel is uninitialized.
NOTE: Variable inputType is uninitialized.
NOTE: There were 2 observations read from the data set EMWS5.TRANS_FORMULA.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 2 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
12252  data _temp;
12253  length UNAME $32;
12254  set EMWS5.Trans_CMeta_TRAIN(keep=NAME LEVEL ROLE TYPE CREATOR LABEL);
12255  UNAME = upcase(name);
12256  where upcase(CREATOR) = upcase("Trans");
12257  run;
 
NOTE: There were 2 observations read from the data set EMWS5.TRANS_CMETA_TRAIN.
      WHERE UPCASE(CREATOR)='TRANS';
NOTE: The data set WORK._TEMP has 2 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
 
 
12258  proc sort data=_temp(drop=CREATOR);
12259  by UNAME;
12260  run;
 
NOTE: There were 2 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 2 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12261  proc sort data=WORK.TRANS_OUTPUTVARS;
12262  by UNAME;
12263  run;
 
NOTE: There were 2 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 2 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
12264  data WORK.TRANS_OUTPUTVARS;
12265  merge WORK.TRANS_OUTPUTVARS _temp;
12266  by UNAME;
12267  run;
 
NOTE: There were 2 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: There were 2 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 2 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12268  *------------------------------------------------------------*;
12269  * Trans: Get Metadata for the Score Inputs Variables;
12270  *------------------------------------------------------------*;
12271  data _temp;
12272  length UNAME $32;
12273  set EMWS5.Trans_VariableSet(keep=NAME LEVEL TYPE LABEL);
12274  UNAME = upcase(name);
12275  run;
 
NOTE: There were 27 observations read from the data set EMWS5.TRANS_VARIABLESET.
NOTE: The data set WORK._TEMP has 27 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12276  proc sort data=_temp;
12277  by UNAME;
12278  run;
 
NOTE: There were 27 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 27 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12279  data WORK.TRANS_SCOREINPUTS;
12280  merge WORK.TRANS_SCOREINPUTS(in=_a) _temp(in=_b);
12281  by UNAME;
12282  if _a and _b then output;
12283  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: There were 27 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12284  *------------------------------------------------------------*;
12285  * Trans: Computing Summary Statistics;
12286  *------------------------------------------------------------*;
12287  proc dmdb data=EMWS5.Trans_TRAIN classout=WORK.TRANS_CLASSSTATS varout=WORK.TRANS_VARSTATS;
12288  ;
12289  var
12290  GiftAvgAll
12291  GiftCntAll
12292  GiftTimeLast
12293  MonetaryValue
12294  Rev_GiftTimeLast
12295  ;
12296  run;
 
NOTE: Records processed = 9686   Memory used = 511K.
NOTE: There were 9686 observations read from the data set DATA.PVA97NK.
NOTE: View EMWS5.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.05 seconds
      cpu time            0.03 seconds
 
NOTE: There were 9686 observations read from the data set EMWS5.IDS_DATA.
NOTE: There were 9686 observations read from the data set EMWS5.TRANS_TRAIN.
NOTE: The data set WORK.TRANS_VARSTATS has 5 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.06 seconds
      cpu time            0.04 seconds
 
 
12297  *------------------------------------------------------------*;
12298  * Trans: Combine Information and Statistics for Class Variables;
12299  *------------------------------------------------------------*;
12300  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12301  by NAME;
12302  run;
 
NOTE: There were 2 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 2 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
12303  proc sort data=WORK.TRANS_CLASSSTATS;
12304  by NAME;
12305  run;
 
NOTE: Input data set is empty.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
12306  data WORK.TRANS_CLASSSTATS(keep=name nlevel nmiss);
12307  retain nlevel nmiss;
12308  set WORK.TRANS_CLASSSTATS;
12309  by Name;
12310  if first.Name then do;
12311  nlevel= 0;
12312  nmiss= 0;
12313  end;
12314  if (type='C' and CRAW='') or (type='N' and NRAW=.) then nmiss = FREQUENCY;
12315  else nlevel + 1;
12316  if last.name then output;
12317  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12318  /*Merge Statistics for Class Output Vars */
12319  data WORK.TRANS_CLASSSTATS;
12320  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12321  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b keep=NAME InputName Formula _MetaFlag LEVEL TYPE LABEL);
12322  by NAME;
12323  if _a and _b then do;
12324  SOURCE='Output';
12325  if _MetaFlag = 1 then _METHOD_="Meta";
12326  else if Formula eq 'Interaction' then _METHOD_="Computed";
12327  else if inputName eq '' then _METHOD_="Formula";
12328  else _METHOD_="Computed";
12329  if Formula = '' then Formula = "User Code";
12330  end;
12331  if _a then output;
12332  drop inputName LEVEL TYPE _MetaFlag;
12333  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 2 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12334  /*Merge Statistics for Class Input Vars */
12335  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12336  by NAME;
12337  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 3 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12338  data WORK.TRANS_CLASSSTATS;
12339  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b);
12340  by NAME;
12341  if _a and _b then do;
12342  SOURCE='Input';
12343  _METHOD_="Original";
12344  end;
12345  if _a then output;
12346  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
12347  *------------------------------------------------------------*;
12348  * Trans: Combine Information and Statistics for Interval Variables;
12349  *------------------------------------------------------------*;
12350  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12351  by NAME;
12352  run;
 
NOTE: There were 2 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 2 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12353  proc sort data=WORK.TRANS_VARSTATS;
12354  by NAME;
12355  run;
 
NOTE: There were 5 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set WORK.TRANS_VARSTATS has 5 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12356  *Merge Statistics for Output Vars;
12357  data WORK.TRANS_VARSTATS;
12358  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12359  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b keep=NAME Formula InputName _MetaFlag LEVEL TYPE LABEL);
12360  by NAME;
12361  if _a and _b then do;
12362  SOURCE='Output';
12363  if _MetaFlag = 1 then _METHOD_="Meta";
12364  else if Formula eq 'Interaction' then _METHOD_="Computed";
12365  else if inputName eq '' then _METHOD_="Formula";
12366  else _METHOD_="Computed";
12367  if Formula = '' then Formula = "Mixture of variables";
12368  end;
12369  if _a then output;
12370  drop inputName LEVEL TYPE _MetaFlag;
12371  run;
 
NOTE: There were 5 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 2 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 5 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12372  *Merge Statistics for Input Vars;
12373  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12374  by NAME;
12375  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 3 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12376  data WORK.TRANS_VARSTATS;
12377  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b);
12378  by NAME;
12379  if _a and _b then do;
12380  SOURCE='Input';
12381  _METHOD_="Original";
12382  end;
12383  if _a then output;
12384  run;
 
NOTE: There were 5 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 5 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
12385  *------------------------------------------------------------*;
12386  * Trans: Combine statistics for class and interval variables;
12387  *------------------------------------------------------------*;
12388  data EMWS5.Trans_STATISTICS;
12389  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12390  label SOURCE = "%sysfunc(sasmsg(sashelp.dmine, rpt_source_vlabel,  NOQUOTE))" _METHOD_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_method_vlabel,  NOQUOTE))" NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA =
12391     "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,   NOQUOTE))" NLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonmiss_vlabel, NOQUOTE))" NMISS =
12392     "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))" MIN = "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))" MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))" MEAN =
12393     "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,    NOQUOTE))" STD = "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,     NOQUOTE))" SKEWNESS = "%sysfunc(sasmsg(sashelp.dmine, rpt_skewness_vlabel, NOQUOTE))" KURTOSIS =
12394     "%sysfunc(sasmsg(sashelp.dmine, rpt_kurtosis_vlabel, NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
12395  set
12396  WORK.TRANS_CLASSSTATS
12397  WORK.TRANS_VARSTATS
12398  ;
12399  drop UNAME;
12400  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 5 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set EMWS5.TRANS_STATISTICS has 5 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.16 seconds
      cpu time            0.04 seconds
 
 
12401  proc sort data=EMWS5.Trans_STATISTICS;
12402  by SOURCE _METHOD_ NAME;
12403  run;
 
NOTE: There were 5 observations read from the data set EMWS5.TRANS_STATISTICS.
NOTE: The data set EMWS5.TRANS_STATISTICS has 5 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.22 seconds
      cpu time            0.04 seconds
 
 
12404  proc sort data = EMWS5.Trans_STATISTICS NOTHREADS;
12405  by SOURCE NAME;
12406  run;
 
NOTE: There were 5 observations read from the data set EMWS5.TRANS_STATISTICS.
NOTE: The data set EMWS5.TRANS_STATISTICS has 5 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.19 seconds
      cpu time            0.00 seconds
 
 
12407  title9 ' ';
12408  proc print data = EMWS5.Trans_STATISTICS(obs=500) noobs label;
12409  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervalinputStats_title, NOQUOTE))";
12410  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12411  var Name NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12412  where SOURCE eq 'INPUT' and mean ne .;
12413  run;
 
NOTE: No observations were selected from data set EMWS5.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS5.TRANS_STATISTICS.
      WHERE (SOURCE='INPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
 
 
12414  proc print data = EMWS5.Trans_STATISTICS(obs=500) noobs label;
12415  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervaloutputStats_title, NOQUOTE))";
12416  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12417  var Name _METHOD_ NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12418  where SOURCE eq 'OUTPUT' and mean ne .;
12419  run;
 
NOTE: No observations were selected from data set EMWS5.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS5.TRANS_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
12420  proc print data = EMWS5.Trans_STATISTICS(obs=500) noobs label;
12421  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classinputStats_title, NOQUOTE))";
12422  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12423  var Name NLEVEL NMISS;
12424  where SOURCE eq 'INPUT' and nlevel ne .;
12425  run;
 
NOTE: No observations were selected from data set EMWS5.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS5.TRANS_STATISTICS.
      WHERE (SOURCE='INPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12426  proc print data = EMWS5.Trans_STATISTICS(obs=500) noobs label;
12427  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classoutputStats_title, NOQUOTE))";
12428  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12429  var Name _METHOD_ NLEVEL NMISS;
12430  where SOURCE eq 'OUTPUT' and nlevel ne .;
12431  run;
 
NOTE: No observations were selected from data set EMWS5.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS5.TRANS_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12432  title9;
12433  title10;
 
12434  data EMWS5.Trans_EMSCOREVAR;
12435  length Name $32 formula $300 file $200;
12436  keep NAME Formula file;
12437  set EMWS5.Trans_STATISTICS;
12438  where SOURCE='Output';
12439  select( _METHOD_);
12440  when('Computed') do;
12441  file="TRANSFORMCODE\"!!strip(NAME)!!'.sas';
12442  formula = '';
12443  end;
12444  when('Formula') do;
12445  if Formula eq 'Mixture of variables' then do;
12446  file= "EDITORCODE.sas";
12447  formula = '';
12448  end;
12449  if Formula = 'User Code' then do;
12450  file= "EDITORCODE.sas";
12451  formula = '';
12452  end;
12453  end;
12454  otherwise;
12455  end;
12456  output;
12457  run;
 
NOTE: There were 2 observations read from the data set EMWS5.TRANS_STATISTICS.
      WHERE SOURCE='Output';
NOTE: The data set EMWS5.TRANS_EMSCOREVAR has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.13 seconds
      cpu time            0.01 seconds
 
 
