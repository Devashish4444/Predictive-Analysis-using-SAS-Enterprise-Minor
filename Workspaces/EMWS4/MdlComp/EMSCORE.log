*------------------------------------------------------------*
* Score Log
Date:                April 25, 2020
Time:                11:43:33
*------------------------------------------------------------*
NOTE: View EMWS4.TREE_TRAIN.VIEW used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      
NOTE: View EMWS4.TREE_TRAIN.VIEW used (Total process time):
      real time           0.05 seconds
      cpu time            0.03 seconds
      
12319  /* Generate assessment metadata, which will be used to generate assessment data step */
12320  /* code, such as retrieving names of temporary variables and summary variables,      */
12321  /* labels, etc.  It is used in almost all the assessment computations such as lift,  */
12322  /* roc, index, scoreDist and could be thought as a global variable in assessment     */
12323  /* computation.                                                                      */
12324  data work.ASSESS_0D1HXXT_assessMeta_UQxx28;
12325  length VARIABLE $32 FORMAT $44 TYPE $32 PARENT $32 LEVEL $32 PROPERTY $32 MEASUREMENT $10 LAST_LEVEL $32 GEN_VAR_IN_TEMP_DATA $32 RESULT_MEAN $32 RESULT_MEAN_LABEL $100 RESULT_MIN $32 RESULT_MIN_LABEL $100 MIN_ADJUSTED $32 RESULT_MAX $32
12325! RESULT_MAX_LABEL
12326     $100 MAX_ADJUSTED $32 RESULT_COUNT $32 RESULT_COUNT_LABEL $100 TEMPORARY_VARIABLE $32;
12327  VARIABLE = "TargetBuy";
12328  PARENT = "";
12329  FORMAT = "";
12330  TYPE = "";
12331  LEVEL = '';
12332  PROPERTY = "TARGET";
12333  MEASUREMENT = "BINARY";
12334  LAST_LEVEL = '';
12335  GEN_VAR_IN_TEMP_DATA = "TargetBuy";
12336  RESULT_MEAN = "";
12337  RESULT_MEAN_LABEL = "";
12338  RESULT_MIN = "";
12339  RESULT_MIN_LABEL = "";
12340  MIN_ADJUSTED = "";
12341  RESULT_MAX = "";
12342  RESULT_MAX_LABEL = "";
12343  MAX_ADJUSTED = "";
12344  RESULT_COUNT = "";
12345  RESULT_COUNT_LABEL = "";
12346  TEMPORARY_VARIABLE = "TargetBuy_YsUU6ccYzav5bma";
12347  output;
12348  VARIABLE = "F_TargetBuy_1";
12349  FORMAT = "";
12350  TYPE = "";
12351  PARENT = "F_TargetBuy";
12352  LEVEL = "1";
12353  PROPERTY = "TARGET_LEVEL";
12354  MEASUREMENT = "INTERVAL";
12355  LAST_LEVEL = "0";
12356  GEN_VAR_IN_TEMP_DATA = "F_TargetBuy_1_t15vThJ2p683hgh";
12357  RESULT_MEAN = "F_TargetBu_mean_2Qi4hnKK2_PMEPA";
12358  /* adjust for tied cases */
12359  RESULT_MEAN_LABEL = "";
12360  RESULT_MIN = "";
12361  RESULT_MIN_LABEL = "";
12362  RESULT_MAX = "";
12363  RESULT_MAX_LABEL = "";
12364  RESULT_COUNT = "NumberOfEvents";
12365  RESULT_COUNT_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_NumEvent_vlabel, NOQUOTE))";
12366  TEMPORARY_VARIABLE = "F_TargetBuy_1_9SXq1nyncCHZVFH";
12367  output;
12368  VARIABLE = "F_TargetBuy_0";
12369  FORMAT = "";
12370  TYPE = "";
12371  PARENT = "F_TargetBuy";
12372  LEVEL = "0";
12373  PROPERTY = "TARGET_LEVEL";
12374  MEASUREMENT = "INTERVAL";
12375  LAST_LEVEL = "0";
12376  GEN_VAR_IN_TEMP_DATA = "F_TargetBuy_0_XodqmW8du0WdN5z";
12377  RESULT_MEAN = "F_TargetBu_mean_p0HITXQpUOIZ_ve";
12378  /* adjust for tied cases */
12379  RESULT_MEAN_LABEL = "";
12380  RESULT_MIN = "";
12381  RESULT_MIN_LABEL = "";
12382  RESULT_MAX = "";
12383  RESULT_MAX_LABEL = "";
12384  RESULT_COUNT = "NumberOfEvents";
12385  RESULT_COUNT_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_NumEvent_vlabel, NOQUOTE))";
12386  TEMPORARY_VARIABLE = "F_TargetBuy_0_dSoWoh8p2Z3ONjp";
12387  output;
12388  VARIABLE = "P_TargetBuy1";
12389  FORMAT = "";
12390  TYPE = "";
12391  PARENT = "";
12392  LEVEL = "1";
12393  PROPERTY = "POSTERIOR_LEVEL";
12394  MEASUREMENT = "INTERVAL";
12395  LAST_LEVEL = "";
12396  GEN_VAR_IN_TEMP_DATA = "P_TargetBuy1";
12397  RESULT_MEAN = "_meanP_";
12398  RESULT_MEAN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMean_vlabel, NOQUOTE))";
12399  RESULT_MIN = "_minP_";
12400  RESULT_MIN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMin_vlabel, NOQUOTE))";
12401  MIN_ADJUSTED = "P_Target_minAdjusted_rjVX6f0li";
12402  RESULT_MAX = "_maxP_";
12403  RESULT_MAX_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMax_vlabel, NOQUOTE))";
12404  MAX_ADJUSTED = "P_Target_maxAdjusted_Q1sYenwMo";
12405  RESULT_COUNT = "";
12406  RESULT_COUNT_LABEL = "";
12407  TEMPORARY_VARIABLE = "P_TargetBuy1_9tUShtIIQuXal89";
12408  output;
12409  VARIABLE = "P_TargetBuy0";
12410  FORMAT = "";
12411  TYPE = "";
12412  PARENT = "";
12413  LEVEL = "0";
12414  PROPERTY = "POSTERIOR_LEVEL";
12415  MEASUREMENT = "INTERVAL";
12416  LAST_LEVEL = "";
12417  GEN_VAR_IN_TEMP_DATA = "P_TargetBuy0";
12418  RESULT_MEAN = "_meanP_";
12419  RESULT_MEAN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMean_vlabel, NOQUOTE))";
12420  RESULT_MIN = "_minP_";
12421  RESULT_MIN_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMin_vlabel, NOQUOTE))";
12422  MIN_ADJUSTED = "P_Target_minAdjusted_LX0tceaX9";
12423  RESULT_MAX = "_maxP_";
12424  RESULT_MAX_LABEL = "%sysfunc(sasmsg(sashelp.dmine, assmt_probMax_vlabel, NOQUOTE))";
12425  MAX_ADJUSTED = "P_Target_maxAdjusted_h55u0pxiv";
12426  RESULT_COUNT = "";
12427  RESULT_COUNT_LABEL = "";
12428  TEMPORARY_VARIABLE = "P_TargetBuy0_PNTSOhwlXj791Ja";
12429  output;
12430  run;

NOTE: The data set WORK.ASSESS_0D1HXXT_ASSESSMETA_UQXX28 has 5 observations and 20 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12431  /* Generate temporary dataset and obtain summary statistics such as total number of   */
12432  /* obserations, frequency of target.  However, summary statistics for class reporting */
12433  /* variabels are not computed here since if there exist class reporting variables,    */
12434  /* then PROC DMDB will be called. And there is no need to compute interval reporting  */
12435  /* summary statisitcs, if any.                                                        */
12436  data work.ASSESS_0D1HXXT_normSD_4sG7mn(drop=
12437  _numberOfObservation_
12438  _levelFrequency_1
12439  _levelFrequency_2
12440  )
12441  work.ASSESS_0D1HXXT_meansAndTi_MPvP0x (keep=
12442  _numberOfObservation_
12443  _levelFrequency_1
12444  _levelFrequency_2
12445  );
12446  set EMWS4.Tree_TRAIN(
12447  where=(
12448  (TargetBuy ^= .)
12449  )
12450  ) end=_lastObservation_;
12451  keep frequency_iu9OuE;
12452  frequency_iu9OuE = 1;
12453  keep I_TargetBuy F_TargetBuy;
12454  keep F_TargetBuy_1_t15vThJ2p683hgh;
12455  if (F_TargetBuy = '1') then do;
12456  F_TargetBuy_1_t15vThJ2p683hgh = 1;
12457  end;
12458  else do;
12459  F_TargetBuy_1_t15vThJ2p683hgh = 0;
12460  end;
12461  keep F_TargetBuy_0_XodqmW8du0WdN5z;
12462  if (F_TargetBuy = '0') then do;
12463  F_TargetBuy_0_XodqmW8du0WdN5z = 1;
12464  end;
12465  else do;
12466  F_TargetBuy_0_XodqmW8du0WdN5z = 0;
12467  end;
12468  keep P_TargetBuy1;
12469  keep P_TargetBuy0;
12470  output work.ASSESS_0D1HXXT_normSD_4sG7mn;
12471  keep _numberOfObservation_;
12472  retain _numberOfObservation_ 0;
12473  _numberOfObservation_ + frequency_iu9OuE;
12474  keep _levelFrequency_1;
12475  retain _levelFrequency_1 0;
12476  if (F_TargetBuy = '1') then do;
12477  _levelFrequency_1 + frequency_iu9OuE;
12478  end;
12479  keep _levelFrequency_2;
12480  retain _levelFrequency_2 0;
12481  if (F_TargetBuy = '0') then do;
12482  _levelFrequency_2 + frequency_iu9OuE;
12483  end;
12484  if _lastObservation_ then do;
12485  output work.ASSESS_0D1HXXT_meansAndTi_MPvP0x;
12486  end;
12487  run;

NOTE: Variable _WARN_ is uninitialized.
NOTE: View EMWS4.TREE_TRAIN.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      
NOTE: There were 11112 observations read from the data set EMWS4.PART_TRAIN.
NOTE: There were 11112 observations read from the data set EMWS4.TREE_TRAIN.
      WHERE TargetBuy not = .;
NOTE: The data set WORK.ASSESS_0D1HXXT_NORMSD_4SG7MN has 11112 observations and 7 variables.
NOTE: The data set WORK.ASSESS_0D1HXXT_MEANSANDTI_MPVP0X has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

12488  data WORK._EMRANK;
12489  set EMWS4.MdlComp_EMRANK;
12490  where MODEL = "Tree" and TARGET = "TargetBuy" and dataRole="TRAIN";
12491  run;

NOTE: There were 20 observations read from the data set EMWS4.MDLCOMP_EMRANK.
      WHERE (MODEL='Tree') and (TARGET='TargetBuy') and (dataRole='TRAIN');
NOTE: The data set WORK._EMRANK has 20 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

12492  data work._augment;
12493  do BIN= 1 to 20;
12494  DECILE = BIN*5;
12495  output;
12496  end;
12497  run;

NOTE: The data set WORK._AUGMENT has 20 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

12498  data WORK._EMRANK;
12499  merge WORK._AUGMENT WORK._EMRANK;
12500  by BIN;
12501  run;

NOTE: There were 20 observations read from the data set WORK._AUGMENT.
NOTE: There were 20 observations read from the data set WORK._EMRANK.
NOTE: The data set WORK._EMRANK has 20 observations and 38 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12502  data WORK._EMRANK;
12503  set WORK._EMRANK end=_lastObservation_;
12504  retain _previousMinP_ _previousMaxP_;
12505  retain _group_ 1;
12506  keep event;
12507  keep bin _cutoff_ _group_;
12508  if (bin > 1) then do;
12509  bin = bin - 1;
12510  _cutoff_ = (_maxP_ + _previousMinP_) / 2;
12511  if (abs(_previousMaxP_ - _previousMinP_) < 1E-6) then do;
12512  /* tied */
12513  _cutoff_ = max((_minP_ + _maxP_)/2, min(_cutoff_, _previousMinP_/*-1E-6*/
12514  ));
12515  end;
12516  else if (abs(_maxP_ - _minP_) < 1E-6) then do;
12517  /* next tied */
12518  _cutoff_ = min((_previousMinP_ + _previousMaxP_)/2, max(_cutoff_, _maxP_/*+ 1E-6*/
12519  ));
12520  end;
12521  output;
12522  *if ( abs((_maxP_ +_minP_)/2 - (_previousMaxP_ + _previousMinP_)/2) > 1E-6) then do;
12523  * _group_ + 1;
12524  *end;
12525  if (_maxP_ le _previousMinP_ - 1E-6) then do;
12526  _group_ + 1;
12527  end;
12528  else if (abs(_maxP_ - _previousMinP_) < 1E-6) then do;
12529  if (abs(_maxP_ - _minP_) > 1E-6) then do;
12530  _group_ + 1;
12531  end;
12532  end;
12533  bin + 1;
12534  /* correct the previous change */
12535  end;
12536  if (_lastObservation_) then do;
12537  _cutoff_ = .;
12538  output;
12539  end;
12540  _previousMinP_ = _minP_;
12541  _previousMaxP_ = _maxP_;
12542  run;

NOTE: There were 20 observations read from the data set WORK._EMRANK.
NOTE: The data set WORK._EMRANK has 20 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12543  data WORK._EMRANK;
12544  set WORK._EMRANK;
12545  by _group_;
12546  retain _start_;
12547  if (first._group_) then do;
12548  _start_ = _n_;
12549  end;
12550  if (last._group_) then do;
12551  _end_ = _n_;
12552  output;
12553  end;
12554  run;

NOTE: There were 20 observations read from the data set WORK._EMRANK.
NOTE: The data set WORK._EMRANK has 7 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this session.
12555  filename emflow "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS4\MdlComp\EMFLOWSCORE.sas";
12556  *------------------------------------------------------------*;
12557  * MdlComp: Scoring TREE_TRAIN data;
12558  *------------------------------------------------------------*;
12559  data EMWS4.MdlComp_TRAIN
12560  / view=EMWS4.MdlComp_TRAIN
12561  ;
12562  set EMWS4.Tree_TRAIN
12563  ;
12564  %inc emflow;
12594  run;

NOTE: DATA STEP view saved on file EMWS4.MDLCOMP_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS4.TREE_TRAIN.VIEW used (Total process time):
      real time           0.17 seconds
      cpu time            0.03 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.18 seconds
      cpu time            0.04 seconds
      

12595  quit;
12596  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.

12597  filename emflow "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS4\MdlComp\EMFLOWSCORE.sas";
12598  *------------------------------------------------------------*;
12599  * MdlComp: Scoring TREE_VALIDATE data;
12600  *------------------------------------------------------------*;
12601  data EMWS4.MdlComp_VALIDATE
12602  / view=EMWS4.MdlComp_VALIDATE
12603  ;
12604  set EMWS4.Tree_VALIDATE
12605  ;
12606  %inc emflow;
12636  run;

NOTE: DATA STEP view saved on file EMWS4.MDLCOMP_VALIDATE.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS4.TREE_VALIDATE.VIEW used (Total process time):
      real time           0.13 seconds
      cpu time            0.04 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.15 seconds
      cpu time            0.04 seconds
      

12637  quit;
12638  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.

12639  filename emflow "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS4\MdlComp\EMFLOWSCORE.sas";
12640  *------------------------------------------------------------*;
12641  * MdlComp: Scoring TREE_TEST data;
12642  *------------------------------------------------------------*;
12643  data EMWS4.MdlComp_TEST
12644  / view=EMWS4.MdlComp_TEST
12645  ;
12646  set EMWS4.Tree_TEST
12647  ;
12648  %inc emflow;
12678  run;

NOTE: DATA STEP view saved on file EMWS4.MDLCOMP_TEST.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS4.TREE_TEST.VIEW used (Total process time):
      real time           0.15 seconds
      cpu time            0.06 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.16 seconds
      cpu time            0.06 seconds
      

12679  quit;
12680  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.

12681  *------------------------------------------------------------*;
12682  * MdlComp: Computing metadata for TRAIN data;
12683  *------------------------------------------------------------*;

NOTE: View EMWS4.MDLCOMP_TRAIN.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      
NOTE: View EMWS4.MDLCOMP_TRAIN.VIEW used (Total process time):
      real time           0.05 seconds
      cpu time            0.04 seconds
      
NOTE: View EMWS4.MDLCOMP_VALIDATE.VIEW used (Total process time):
      real time           0.05 seconds
      cpu time            0.06 seconds
      
NOTE: View EMWS4.MDLCOMP_TEST.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      
