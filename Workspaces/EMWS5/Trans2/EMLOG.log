*------------------------------------------------------------*
User:                skokse_uncc
Date:                April 25, 2020
Time:                17:24:11
Site:                70117250
Platform:            X64_DSRV16
Maintenance Release: 9.04.01M5P091317
EM Version:          14.3
* 
*------------------------------------------------------------*
* Training Log
Date:                April 25, 2020
Time:                17:24:03
*------------------------------------------------------------*
11423  proc freq data=EMWS5.Trans2_VariableSet noprint;
11424  table ROLE*LEVEL/out=WORK.Trans2META;
11425  run;
 
NOTE: There were 28 observations read from the data set EMWS5.TRANS2_VARIABLESET.
NOTE: The data set WORK.TRANS2META has 5 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
11426  proc print data=WORK.Trans2META label noobs;
11427  var ROLE LEVEL COUNT;
11428  label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
11429  title9 ' ';
11430  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
11431  run;
 
NOTE: There were 5 observations read from the data set WORK.TRANS2META.
NOTE: The PROCEDURE PRINT printed page 1.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11432  title10;
 
11433  data WORK.M3NOTGVB;
11434  set WORK.M3NOTGVB;
11435  if (METHOD='NONE' and ROLE ne 'FREQ') or (role = 'REJECTED' and METHOD = 'DEFAULT') then delete;
11436  run;
 
NOTE: There were 28 observations read from the data set WORK.M3NOTGVB.
NOTE: The data set WORK.M3NOTGVB has 27 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
NOTE: There were 9686 observations read from the data set DATA.PVA97NK.
NOTE: View EMWS5.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.23 seconds
      cpu time            0.03 seconds
 
NOTE: There were 9686 observations read from the data set EMWS5.IDS_DATA.
11501  *------------------------------------------------------------*;
11502  * Trans: Computing Summary Statistics;
11503  *------------------------------------------------------------*;
11504  data WORK.M0VJC04R;
11505  set WORK.M0VJC04R;
11506  if (role = 'REJECTED') then role = 'INPUT';
11507  run;
 
NOTE: There were 27 observations read from the data set WORK.M0VJC04R.
NOTE: The data set WORK.M0VJC04R has 27 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11508  *------------------------------------------------------------* ;
11509  * EM: DMDBClass Macro ;
11510  *------------------------------------------------------------* ;
11511  %macro DMDBClass;
11512      DemCluster(ASC) DemGender(ASC) DemHomeOwner(ASC) StatusCat96NK(ASC)
11513     StatusCatStarAll(ASC) TargetB(DESC)
11514  %mend DMDBClass;
11515  *------------------------------------------------------------* ;
11516  * EM: DMDBVar Macro ;
11517  *------------------------------------------------------------* ;
11518  %macro DMDBVar;
11519      DemAge DemMedHomeValue DemMedIncome DemPctVeterans GiftAvg36 GiftAvgAll
11520     GiftAvgCard36 GiftAvgLast GiftCnt36 GiftCntAll GiftCntCard36 GiftCntCardAll
11521     GiftTimeFirst MonetaryValue PromCnt12 PromCnt36 PromCntAll PromCntCard12
11522     PromCntCard36 PromCntCardAll Rev_GiftTimeLast
11523  %mend DMDBVar;
11524  *------------------------------------------------------------*;
11525  * EM: Create DMDB;
11526  *------------------------------------------------------------*;
11527  proc dmdb batch data=EMWS5.Trans_TRAIN
11528  dmdbcat=WORK.EM_DMDB
11529  classout=WORK.Transclassout
11530  maxlevel = 513
11531  ;
11532  class %DMDBClass;
11533  var %DMDBVar;
11534  target
11535  TargetB
11536  ;
11537  run;
 
NOTE: Records processed = 9686   Memory used = 511K.
NOTE: There were 9686 observations read from the data set DATA.PVA97NK.
NOTE: View EMWS5.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.20 seconds
      cpu time            0.04 seconds
 
NOTE: There were 9686 observations read from the data set EMWS5.IDS_DATA.
NOTE: There were 9686 observations read from the data set EMWS5.TRANS_TRAIN.
NOTE: The data set WORK.TRANSCLASSOUT has 69 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.21 seconds
      cpu time            0.06 seconds
 
 
11538  quit;
11539  *--- end code ---*;
 
11540  data WORK.TransINTERVALMETA;
11541  set WORK.M3NOTGVB;
11542  if LEVEL ne 'INTERVAL' then delete;
11543  run;
 
NOTE: There were 27 observations read from the data set WORK.M3NOTGVB.
NOTE: The data set WORK.TRANSINTERVALMETA has 21 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11544  *------------------------------------------------------------*;
11545  * Trans: Determining Variables to Scale;
11546  *------------------------------------------------------------*;
11547  data WORK.M2CTNGDI;
11548  set WORK.M2CTNGDI;
11549  where (TYPE="N" and (METHOD in("MAX_NORM", "MAX_CORR", "EQUALIZE", "OP_MAX_NORM", "OP_EQUALIZE"))) or (ROLE eq "FREQ");
11550  run;
 
NOTE: There were 0 observations read from the data set WORK.M2CTNGDI.
      WHERE ((TYPE='N') and METHOD in ('EQUALIZE', 'MAX_CORR', 'MAX_NORM', 'OP_EQUALIZE', 'OP_MAX_NORM')) or (ROLE='FREQ');
NOTE: The data set WORK.M2CTNGDI has 0 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11553  *------------------------------------------------------------*;
11554  * Trans: Computing quantile transformations;
11555  *------------------------------------------------------------*;
11556  %em_varMacro(name=EM_PCTLBINVAR, metadata=WORK.METASET1EE6LJ2, key=NAME);
 
NOTE: The file MACFILE is:
      Catalog Name=WORK.EMUTIL.MACRO.SOURCE,
      Catalog Page Size=4096,
      Number of Catalog Pages=4,
      Created=Sat, Apr 25, 2020 05:24:05 PM,
      Last Modified=Sat, Apr 25, 2020 05:24:05 PM,
      Filename=C:\Users\skokse_uncc\AppData\Local\Temp\96\SAS Temporary Files\_TD6976_MSNV-UNCC1-RDS1_\emutil.sas7bcat,
      Release Created=9.0401M5,
      Host Created=X64_DSRV16,
      Owner Name=APPORTO\skokse_uncc,
      File Size=             5KB,
      File Size (bytes)=5120
 
NOTE: 3 records were written to the file MACFILE.
      The minimum record length was 20.
      The maximum record length was 50.
NOTE: There were 3 observations read from the data set WORK.METASET1EE6LJ2.
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
 
 
NOTE: Fileref MACFILE has been deassigned.
11560  data work.EM_TRANS_STDIZE / view=work.EM_TRANS_STDIZE;
11561  set EMWS5.Trans_TRAIN(keep=%EM_PCTLBINVAR );
11562  run;
 
NOTE: DATA STEP view saved on file WORK.EM_TRANS_STDIZE.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS5.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
 
11563  data work.TRANS_QUANTMETADS;
11564  set WORK.METASET1EE6LJ2;
11565  if NUMBINS eq . then NUMBINS=4;
11566  run;
 
NOTE: There were 3 observations read from the data set WORK.METASET1EE6LJ2.
NOTE: The data set WORK.TRANS_QUANTMETADS has 3 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11567  proc sort data=work.TRANS_QUANTMETADS;
11568  by NUMBINS NAME;
11569  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_QUANTMETADS.
NOTE: The data set WORK.TRANS_QUANTMETADS has 3 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11570  data _null_;
11571  set work.TRANS_QUANTMETADS;
11572  length pctlString $200;
11573  length VarString $80;
11574  retain VarString '';
11575  retain Count 0;
11576  by Numbins;
11577  if first.numbins then do;
11578  count + 1;
11579  pctlString = '';
11580  call execute("proc stdize data=work.EM_TRANS_STDIZE outstat=WORK.TransBIN_PCTL out=_null_
11581              pctlpts=");
11582  do i=1 to numbins -1;
11583  pctlString = strip(pctlString)!!' '!!strip(put(i*100/numbins, 5.1));
11584  end;
11585  call execute(strip(pctlString)!!";");
11586  call execute("var ");
11587  VarString = strip(NAME);
11588  end;
11589  else do;
11590  if length(strip(VarString)) + length(strip(NAME)) + 1 < 80 then VarString = strip(VarString)!!' '!!strip(NAME);
11591  else do;
11592  call execute(varString);
11593  VarString = NAME;
11594  end;
11595  end;
11596  if last.numbins then do;
11597  call execute(varString!!';');
11598  call execute("run;");
11599  if count = 1 then call execute("data  WORK.Trans_PCTL;");
11600  else call execute("data  WORK.TransBIN_PCTL;");
11601  call execute("   length _PCTLPTS 8;");
11602  call execute("   set WORK.TransBIN_PCTL(where=(_type_=:'P'));");
11603  call execute("   _PCTLPTS = input(substr(tranwrd(_TYPE_, '_', '.'), 2), best.);");
11604  call execute("run;");
11605  if count ne 1 then do;
11606  call execute("data WORK.Trans_PCTL;");
11607  call execute("   merge WORK.Trans_PCTL WORK.TransBIN_PCTL;");
11608  call execute("   by _PCTLPTS;");
11609  call execute("run;");
11610  end;
11611  end;
11612  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_QUANTMETADS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: CALL EXECUTE generated line.
1     + proc stdize data=work.EM_TRANS_STDIZE outstat=WORK.TransBIN_PCTL out=_null_            pctlpts=
2     + 25.0 50.0 75.0;
3     + var
4     + GiftCntAll MonetaryValue Rev_GiftTimeLast                                       ;
5     + run;
 
NOTE: There were 9686 observations read from the data set DATA.PVA97NK.
NOTE: There were 9686 observations read from the data set EMWS5.IDS_DATA.
NOTE: View WORK.EM_TRANS_STDIZE.VIEW used (Total process time):
      real time           0.12 seconds
      cpu time            0.12 seconds
 
NOTE: There were 9686 observations read from the data set EMWS5.TRANS_TRAIN.
NOTE: There were 9686 observations read from the data set WORK.EM_TRANS_STDIZE.
NOTE: The data set WORK.TRANSBIN_PCTL has 11 observations and 4 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.14 seconds
      cpu time            0.14 seconds
 
 
6     + data  WORK.Trans_PCTL;
7     +    length _PCTLPTS 8;
8     +    set WORK.TransBIN_PCTL(where=(_type_=:'P'));
9     +    _PCTLPTS = input(substr(tranwrd(_TYPE_, '_', '.'), 2), best.);
10    + run;
 
NOTE: There were 3 observations read from the data set WORK.TRANSBIN_PCTL.
      WHERE _type_=:'P';
NOTE: The data set WORK.TRANS_PCTL has 3 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: View EMWS5.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.54 seconds
      cpu time            0.42 seconds
 
NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this session.
*------------------------------------------------------------*
*  Trans: Creating EMWS5.Trans2_RESULT
*------------------------------------------------------------*
WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This might cause unexpected results.
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.06 seconds
      cpu time            0.01 seconds
 
 
11657  data EMWS5.Trans2_RESULT;
11658  length NAME $32 FORMULA $70 POWER 8 ROLE $32 LEVEL $10 INPUTNAME $32 INPUTTYPE $1 LABEL $44;
11659  label INPUTNAME ='Input Name' NAME='Name' POWER='Power' FORMULA='Formula' ROLE='Role' INPUTLEVEL='Input Level' LEVEL='Level' INPUTTYPE='Input Type' TYPE='Type';
11660  set EMWS5.Trans2_RESULT;
11661  if INPUTNAME = '' then INPUTNAME = "Mixture of variables";
11662  run;
 
NOTE: There were 3 observations read from the data set EMWS5.TRANS2_RESULT.
NOTE: The data set EMWS5.TRANS2_RESULT has 3 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.23 seconds
      cpu time            0.01 seconds
 
 
11663  data WORK.M2E0QJJI;
11664  set WORK.M2E0QJJI;
11665  if ROLE='REJECTED' then ROLE='INPUT';
11666  run;
 
NOTE: There were 3 observations read from the data set WORK.M2E0QJJI.
NOTE: The data set WORK.M2E0QJJI has 3 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
*------------------------------------------------------------*
*  Trans: Computing summary statistics for transformed variables
*------------------------------------------------------------*
11787  data WORK.TRANSFOR_3H6DMIG_STATISTIC;
11788  set WORK.Trans_TEMP;
11789  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_TEMP.
NOTE: The data set WORK.TRANSFOR_3H6DMIG_STATISTIC has 3 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11790  proc print data = EMWS5.Trans2_RESULT(obs=500) noobs label;
11791  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_computedtransformations_title, NOQUOTE))";
11792  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11793  var INPUTNAME ROLE INPUTLEVEL NAME LEVEL FORMULA;
11794  run;
 
NOTE: There were 3 observations read from the data set EMWS5.TRANS2_RESULT.
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11795  title9;
11796  title10;
 
*------------------------------------------------------------*
* Score Log
Date:                April 25, 2020
Time:                17:24:08
*------------------------------------------------------------*
11898  proc sort data=EMWS5.Trans2_RESULT out=WORK.Trans2RESULT NOTHREADS;
11899  by INPUTNAME;
11900  run;
 
NOTE: There were 3 observations read from the data set EMWS5.TRANS2_RESULT.
NOTE: The data set WORK.TRANS2RESULT has 3 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11901  proc sort data=EMWS5.Trans2_VariableSet(KEEP= NAME FAMILY REPORT rename=(NAME=INPUTNAME)) out=WORK.Trans2VARSET NOTHREADS;
11902  by INPUTNAME;
11903  run;
 
NOTE: There were 28 observations read from the data set EMWS5.TRANS2_VARIABLESET.
NOTE: The data set WORK.TRANS2VARSET has 28 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11904  data WORK.Trans2RESULT;
11905  merge WORK.Trans2RESULT WORK.Trans2VARSET;
11906  by INPUTNAME;
11907  if NAME ne '' then output;
11908  run;
 
WARNING: Multiple lengths were specified for the BY variable INPUTNAME by input data sets. This might cause unexpected results.
NOTE: There were 3 observations read from the data set WORK.TRANS2RESULT.
NOTE: There were 28 observations read from the data set WORK.TRANS2VARSET.
NOTE: The data set WORK.TRANS2RESULT has 3 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11909  filename _code "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS5\Trans2\TRAINDELTACODE.sas";
11910  data _null_;
11911  set WORK.Trans2RESULT;
11912  length String $200;
11913  file _code;
11914  String = 'if NAME="'!!strip(name)!!'" then do;';
11915  put / String;
11916  if family ne '' then do;
11917  String = '   FAMILY ="'!!strip(family)!!'";';
11918  put String;
11919  end;
11920  select(formula);
11921  when('Interaction') put '   FAMILY  ="INTERACTION";';
11922  when('') put '   COMMENT = "' method 'transformation of ' INPUTVAR '";';
11923  otherwise put '   COMMENT = "' formula '";';
11924  end;
11925  String = '   ROLE ="'!!strip(role)!!'";';
11926  put String;
11927  if REPORT="" then REPORT = "N";
11928  String = '   REPORT ="'!!strip(report)!!'";';
11929  put String;
11930  String = '   LEVEL  ="'!!strip(level)!!'";';
11931  put String;
11932  put 'end;';
11933  if formula ne 'Interaction' and INPUTNAME ne '' then do;
11934  String = 'if NAME="'!!strip(INPUTNAME)!!'" then delete;';
11935  put String;
11936  end;
11937  run;
 
NOTE: Variable method is uninitialized.
NOTE: Variable INPUTVAR is uninitialized.
NOTE: The file _CODE is:
      Filename=\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS5\Trans2\TRAINDELTACODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=25Apr2020:17:24:07,
      Create Time=25Apr2020:16:51:52
 
NOTE: 24 records were written to the file _CODE.
      The minimum record length was 0.
      The maximum record length was 40.
NOTE: There were 3 observations read from the data set WORK.TRANS2RESULT.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11938  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
11939  filename emflow "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS5\Trans2\EMFLOWSCORE.sas";
11940  *------------------------------------------------------------*;
11941  * Trans2: Scoring DATA data;
11942  *------------------------------------------------------------*;
11943  data EMWS5.Trans2_TRAIN
11944  / view=EMWS5.Trans2_TRAIN
11945  ;
11946  set EMWS5.Trans_TRAIN
11947  ;
11948  %inc emflow;
12006  run;
 
NOTE: DATA STEP view saved on file EMWS5.TRANS2_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS5.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.18 seconds
      cpu time            0.04 seconds
 
NOTE: DATA statement used (Total process time):
      real time           0.20 seconds
      cpu time            0.06 seconds
 
 
12007  quit;
12008  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.
 
12009  *------------------------------------------------------------*;
12010  * Trans2: Computing metadata for TRAIN data;
12011  *------------------------------------------------------------*;
 
NOTE: View EMWS5.TRANS2_TRAIN.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
 
NOTE: View EMWS5.TRANS2_TRAIN.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
 
*------------------------------------------------------------*
* Report Log
Date:                April 25, 2020
Time:                17:24:09
*------------------------------------------------------------*
12399  *------------------------------------------------------------*;
12400  * &msgString;
12401  *------------------------------------------------------------*;
12402  filename _flowref "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS5\Trans2\EMFLOWSCORE.sas";
12403  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK.TRANS_SCOREINPUTS;
12404  %INCLUDE _flowref;
12462  run;
 
NOTE: Dependency structure written to data set WORK.TRANS_SCOREINPUTS.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12463  quit;
12464  data WORK.TRANS_SCOREINPUTS;
12465  set WORK.TRANS_SCOREINPUTS(keep=RHS rename=(RHS=NAME));
12466  length UNAME $32;
12467  UNAME = upcase(NAME);
12468  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12469  proc sort data=WORK.TRANS_SCOREINPUTS NODUPKEY;
12470  by UNAME;
12471  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12472  filename _flowref;
NOTE: Fileref _FLOWREF has been deassigned.
12473  %let SYSCC = 0;
12474  *------------------------------------------------------------*;
12475  * transformcombinevariables;
12476  *------------------------------------------------------------*;
12477  data WORK.TRANS_OUTPUTVARS;
12478  length Uname inputName $32 inputLevel $10 inputType $1 _MetaFlag 8;
12479  set
12480  EMWS5.Trans2_RESULT
12481  ;
12482  _MetaFlag=0;
12483  uname = upcase(name);
12484  run;
 
NOTE: There were 3 observations read from the data set EMWS5.TRANS2_RESULT.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 3 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12485  data _temp;
12486  length UNAME $32;
12487  set EMWS5.Trans2_CMeta_TRAIN(keep=NAME LEVEL ROLE TYPE CREATOR LABEL);
12488  UNAME = upcase(name);
12489  where upcase(CREATOR) = upcase("Trans2");
12490  run;
 
NOTE: There were 3 observations read from the data set EMWS5.TRANS2_CMETA_TRAIN.
      WHERE UPCASE(CREATOR)='TRANS2';
NOTE: The data set WORK._TEMP has 3 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
 
 
12491  proc sort data=_temp(drop=CREATOR);
12492  by UNAME;
12493  run;
 
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 3 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12494  proc sort data=WORK.TRANS_OUTPUTVARS;
12495  by UNAME;
12496  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 3 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12497  data WORK.TRANS_OUTPUTVARS;
12498  merge WORK.TRANS_OUTPUTVARS _temp;
12499  by UNAME;
12500  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 3 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12501  *------------------------------------------------------------*;
12502  * Trans2: Get Metadata for the Score Inputs Variables;
12503  *------------------------------------------------------------*;
12504  data _temp;
12505  length UNAME $32;
12506  set EMWS5.Trans2_VariableSet(keep=NAME LEVEL TYPE LABEL);
12507  UNAME = upcase(name);
12508  run;
 
NOTE: There were 28 observations read from the data set EMWS5.TRANS2_VARIABLESET.
NOTE: The data set WORK._TEMP has 28 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12509  proc sort data=_temp;
12510  by UNAME;
12511  run;
 
NOTE: There were 28 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 28 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12512  data WORK.TRANS_SCOREINPUTS;
12513  merge WORK.TRANS_SCOREINPUTS(in=_a) _temp(in=_b);
12514  by UNAME;
12515  if _a and _b then output;
12516  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: There were 28 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12517  *------------------------------------------------------------*;
12518  * Trans2: Computing Summary Statistics;
12519  *------------------------------------------------------------*;
12520  proc dmdb data=EMWS5.Trans2_TRAIN classout=WORK.TRANS_CLASSSTATS varout=WORK.TRANS_VARSTATS;
12521  class
12522  PCTL_GiftCntAll
12523  PCTL_MonetaryValue
12524  PCTL_Rev_GiftTimeLast
12525  ;
12526  var
12527  GiftCntAll
12528  MonetaryValue
12529  Rev_GiftTimeLast
12530  ;
12531  run;
 
NOTE: Records processed = 9686   Memory used = 511K.
NOTE: There were 9686 observations read from the data set DATA.PVA97NK.
NOTE: There were 9686 observations read from the data set EMWS5.IDS_DATA.
NOTE: View EMWS5.TRANS2_TRAIN.VIEW used (Total process time):
      real time           0.07 seconds
      cpu time            0.06 seconds
 
NOTE: There were 9686 observations read from the data set EMWS5.TRANS_TRAIN.
NOTE: There were 9686 observations read from the data set EMWS5.TRANS2_TRAIN.
NOTE: The data set WORK.TRANS_CLASSSTATS has 12 observations and 9 variables.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.07 seconds
      cpu time            0.06 seconds
 
 
12532  *------------------------------------------------------------*;
12533  * Trans2: Combine Information and Statistics for Class Variables;
12534  *------------------------------------------------------------*;
12535  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12536  by NAME;
12537  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 3 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12538  proc sort data=WORK.TRANS_CLASSSTATS;
12539  by NAME;
12540  run;
 
NOTE: There were 12 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 12 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12541  data WORK.TRANS_CLASSSTATS(keep=name nlevel nmiss);
12542  retain nlevel nmiss;
12543  set WORK.TRANS_CLASSSTATS;
12544  by Name;
12545  if first.Name then do;
12546  nlevel= 0;
12547  nmiss= 0;
12548  end;
12549  if (type='C' and CRAW='') or (type='N' and NRAW=.) then nmiss = FREQUENCY;
12550  else nlevel + 1;
12551  if last.name then output;
12552  run;
 
NOTE: There were 12 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 3 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12553  /*Merge Statistics for Class Output Vars */
12554  data WORK.TRANS_CLASSSTATS;
12555  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12556  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b keep=NAME InputName Formula _MetaFlag LEVEL TYPE LABEL);
12557  by NAME;
12558  if _a and _b then do;
12559  SOURCE='Output';
12560  if _MetaFlag = 1 then _METHOD_="Meta";
12561  else if Formula eq 'Interaction' then _METHOD_="Computed";
12562  else if inputName eq '' then _METHOD_="Formula";
12563  else _METHOD_="Computed";
12564  if Formula = '' then Formula = "User Code";
12565  end;
12566  if _a then output;
12567  drop inputName LEVEL TYPE _MetaFlag;
12568  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 3 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12569  /*Merge Statistics for Class Input Vars */
12570  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12571  by NAME;
12572  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 3 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12573  data WORK.TRANS_CLASSSTATS;
12574  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b);
12575  by NAME;
12576  if _a and _b then do;
12577  SOURCE='Input';
12578  _METHOD_="Original";
12579  end;
12580  if _a then output;
12581  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 3 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12582  *------------------------------------------------------------*;
12583  * Trans2: Combine Information and Statistics for Interval Variables;
12584  *------------------------------------------------------------*;
12585  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12586  by NAME;
12587  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 3 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12588  proc sort data=WORK.TRANS_VARSTATS;
12589  by NAME;
12590  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12591  *Merge Statistics for Output Vars;
12592  data WORK.TRANS_VARSTATS;
12593  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12594  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b keep=NAME Formula InputName _MetaFlag LEVEL TYPE LABEL);
12595  by NAME;
12596  if _a and _b then do;
12597  SOURCE='Output';
12598  if _MetaFlag = 1 then _METHOD_="Meta";
12599  else if Formula eq 'Interaction' then _METHOD_="Computed";
12600  else if inputName eq '' then _METHOD_="Formula";
12601  else _METHOD_="Computed";
12602  if Formula = '' then Formula = "Mixture of variables";
12603  end;
12604  if _a then output;
12605  drop inputName LEVEL TYPE _MetaFlag;
12606  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12607  *Merge Statistics for Input Vars;
12608  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12609  by NAME;
12610  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 3 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12611  data WORK.TRANS_VARSTATS;
12612  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b);
12613  by NAME;
12614  if _a and _b then do;
12615  SOURCE='Input';
12616  _METHOD_="Original";
12617  end;
12618  if _a then output;
12619  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12620  *------------------------------------------------------------*;
12621  * Trans2: Combine statistics for class and interval variables;
12622  *------------------------------------------------------------*;
12623  data EMWS5.Trans2_STATISTICS;
12624  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12625  label SOURCE = "%sysfunc(sasmsg(sashelp.dmine, rpt_source_vlabel,  NOQUOTE))" _METHOD_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_method_vlabel,  NOQUOTE))" NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA =
12626     "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,   NOQUOTE))" NLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonmiss_vlabel, NOQUOTE))" NMISS =
12627     "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))" MIN = "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))" MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))" MEAN =
12628     "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,    NOQUOTE))" STD = "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,     NOQUOTE))" SKEWNESS = "%sysfunc(sasmsg(sashelp.dmine, rpt_skewness_vlabel, NOQUOTE))" KURTOSIS =
12629     "%sysfunc(sasmsg(sashelp.dmine, rpt_kurtosis_vlabel, NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
12630  set
12631  WORK.TRANS_CLASSSTATS
12632  WORK.TRANS_VARSTATS
12633  ;
12634  drop UNAME;
12635  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set EMWS5.TRANS2_STATISTICS has 6 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.15 seconds
      cpu time            0.01 seconds
 
 
12636  proc sort data=EMWS5.Trans2_STATISTICS;
12637  by SOURCE _METHOD_ NAME;
12638  run;
 
NOTE: There were 6 observations read from the data set EMWS5.TRANS2_STATISTICS.
NOTE: The data set EMWS5.TRANS2_STATISTICS has 6 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.25 seconds
      cpu time            0.01 seconds
 
 
12639  proc sort data = EMWS5.Trans2_STATISTICS NOTHREADS;
12640  by SOURCE NAME;
12641  run;
 
NOTE: There were 6 observations read from the data set EMWS5.TRANS2_STATISTICS.
NOTE: The data set EMWS5.TRANS2_STATISTICS has 6 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.20 seconds
      cpu time            0.01 seconds
 
 
12642  title9 ' ';
12643  proc print data = EMWS5.Trans2_STATISTICS(obs=500) noobs label;
12644  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervalinputStats_title, NOQUOTE))";
12645  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12646  var Name NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12647  where SOURCE eq 'INPUT' and mean ne .;
12648  run;
 
NOTE: No observations were selected from data set EMWS5.TRANS2_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS5.TRANS2_STATISTICS.
      WHERE (SOURCE='INPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
 
 
12649  proc print data = EMWS5.Trans2_STATISTICS(obs=500) noobs label;
12650  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervaloutputStats_title, NOQUOTE))";
12651  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12652  var Name _METHOD_ NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12653  where SOURCE eq 'OUTPUT' and mean ne .;
12654  run;
 
NOTE: No observations were selected from data set EMWS5.TRANS2_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS5.TRANS2_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12655  proc print data = EMWS5.Trans2_STATISTICS(obs=500) noobs label;
12656  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classinputStats_title, NOQUOTE))";
12657  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12658  var Name NLEVEL NMISS;
12659  where SOURCE eq 'INPUT' and nlevel ne .;
12660  run;
 
NOTE: No observations were selected from data set EMWS5.TRANS2_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS5.TRANS2_STATISTICS.
      WHERE (SOURCE='INPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12661  proc print data = EMWS5.Trans2_STATISTICS(obs=500) noobs label;
12662  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classoutputStats_title, NOQUOTE))";
12663  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12664  var Name _METHOD_ NLEVEL NMISS;
12665  where SOURCE eq 'OUTPUT' and nlevel ne .;
12666  run;
 
NOTE: No observations were selected from data set EMWS5.TRANS2_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS5.TRANS2_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12667  title9;
12668  title10;
 
12669  data EMWS5.Trans2_EMSCOREVAR;
12670  length Name $32 formula $300 file $200;
12671  keep NAME Formula file;
12672  set EMWS5.Trans2_STATISTICS;
12673  where SOURCE='Output';
12674  select( _METHOD_);
12675  when('Computed') do;
12676  file="TRANSFORMCODE\"!!strip(NAME)!!'.sas';
12677  formula = '';
12678  end;
12679  when('Formula') do;
12680  if Formula eq 'Mixture of variables' then do;
12681  file= "EDITORCODE.sas";
12682  formula = '';
12683  end;
12684  if Formula = 'User Code' then do;
12685  file= "EDITORCODE.sas";
12686  formula = '';
12687  end;
12688  end;
12689  otherwise;
12690  end;
12691  output;
12692  run;
 
NOTE: There were 3 observations read from the data set EMWS5.TRANS2_STATISTICS.
      WHERE SOURCE='Output';
NOTE: The data set EMWS5.TRANS2_EMSCOREVAR has 3 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.14 seconds
      cpu time            0.01 seconds
 
 
