*------------------------------------------------------------*
User:                skokse_uncc
Date:                April 24, 2020
Time:                18:51:56
Site:                70117250
Platform:            X64_DSRV16
Maintenance Release: 9.04.01M5P091317
EM Version:          14.3
* 
*------------------------------------------------------------*
* Training Log
Date:                April 24, 2020
Time:                18:51:48
*------------------------------------------------------------*
11424  proc freq data=EMWS2.Trans2_VariableSet noprint;
11425  table ROLE*LEVEL/out=WORK.Trans2META;
11426  run;
 
NOTE: There were 97 observations read from the data set EMWS2.TRANS2_VARIABLESET.
NOTE: The data set WORK.TRANS2META has 7 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11427  proc print data=WORK.Trans2META label noobs;
11428  var ROLE LEVEL COUNT;
11429  label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
11430  title9 ' ';
11431  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
11432  run;
 
NOTE: There were 7 observations read from the data set WORK.TRANS2META.
NOTE: The PROCEDURE PRINT printed page 1.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11433  title10;
 
11434  data WORK.M2DTQCD7;
11435  set WORK.M2DTQCD7;
11436  if (METHOD='NONE' and ROLE ne 'FREQ') or (role = 'REJECTED' and METHOD = 'DEFAULT') then delete;
11437  run;
 
NOTE: There were 97 observations read from the data set WORK.M2DTQCD7.
NOTE: The data set WORK.M2DTQCD7 has 92 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
NOTE: There were 48356 observations read from the data set DATA.CATALOG2010.
NOTE: View EMWS2.TRANS_TRAIN.VIEW used (Total process time):
      real time           1.76 seconds
      cpu time            0.14 seconds
 
NOTE: There were 48356 observations read from the data set EMWS2.IDS_DATA.
11502  *------------------------------------------------------------*;
11503  * Trans: Computing Summary Statistics;
11504  *------------------------------------------------------------*;
11505  data WORK.M1MCU9ZZ;
11506  set WORK.M1MCU9ZZ;
11507  if (role = 'REJECTED') then role = 'INPUT';
11508  run;
 
NOTE: There were 92 observations read from the data set WORK.M1MCU9ZZ.
NOTE: The data set WORK.M1MCU9ZZ has 92 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11509  *------------------------------------------------------------* ;
11510  * EM: DMDBClass Macro ;
11511  *------------------------------------------------------------* ;
11512  %macro DMDBClass;
11513      BOTHPAYM(ASC) CCPAYM(ASC) METHPAYM(ASC) PCPAYM(ASC) RESPOND(DESC)
11514  %mend DMDBClass;
11515  *------------------------------------------------------------* ;
11516  * EM: DMDBVar Macro ;
11517  *------------------------------------------------------------* ;
11518  %macro DMDBVar;
11519      ACTBUY BUYPROP CATALOGCNT DAYLAST_REV DEPT01 DEPT02 DEPT03 DEPT04 DEPT05
11520     DEPT06 DEPT07 DEPT08 DEPT09 DEPT10 DEPT11 DEPT12 DEPT13 DEPT14 DEPT15 DEPT16
11521     DEPT17 DEPT18 DEPT19 DEPT20 DEPT21 DEPT22 DEPT23 DEPT24 DEPT25 DEPT26 DEPT27
11522     DOLINDEA DOLINDET DOLL24 DOLLARQ01 DOLLARQ02 DOLLARQ03 DOLLARQ04 DOLLARQ05
11523     DOLLARQ06 DOLLARQ07 DOLLARQ08 DOLLARQ09 DOLLARQ10 DOLLARQ11 DOLLARQ12 DOLLARQ13
11524     DOLLARQ14 DOLLARQ15 DOLLARQ16 DOLLARQ17 DOLLARQ18 DOLLARQ19 DOLLARQ20 DOLLARQ21
11525     DOLLARQ22 DOLNETDA DOLNETDT FREQPRCH MONLAST ORDERSIZE TENURE TOTORDQ01
11526     TOTORDQ02 TOTORDQ03 TOTORDQ04 TOTORDQ05 TOTORDQ06 TOTORDQ07 TOTORDQ08 TOTORDQ09
11527     TOTORDQ10 TOTORDQ11 TOTORDQ12 TOTORDQ13 TOTORDQ14 TOTORDQ15 TOTORDQ16 TOTORDQ17
11528     TOTORDQ18 TOTORDQ19 TOTORDQ20 TOTORDQ21 TOTORDQ22 UNITSIDD UNITSLAP UNTLANPO
11529  %mend DMDBVar;
11530  *------------------------------------------------------------*;
11531  * EM: Create DMDB;
11532  *------------------------------------------------------------*;
11533  proc dmdb batch data=EMWS2.Trans_TRAIN
11534  dmdbcat=WORK.EM_DMDB
11535  classout=WORK.Transclassout
11536  maxlevel = 513
11537  ;
11538  class %DMDBClass;
11539  var %DMDBVar;
11540  target
11541  ORDERSIZE
11542  RESPOND
11543  ;
11544  run;
 
NOTE: Records processed = 48356   Memory used = 511K.
NOTE: There were 48356 observations read from the data set DATA.CATALOG2010.
NOTE: View EMWS2.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.17 seconds
      cpu time            0.15 seconds
 
NOTE: There were 48356 observations read from the data set EMWS2.IDS_DATA.
NOTE: There were 48356 observations read from the data set EMWS2.TRANS_TRAIN.
NOTE: The data set WORK.TRANSCLASSOUT has 12 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.20 seconds
      cpu time            0.18 seconds
 
 
11545  quit;
11546  *--- end code ---*;
 
11547  data WORK.TransINTERVALMETA;
11548  set WORK.M2DTQCD7;
11549  if LEVEL ne 'INTERVAL' then delete;
11550  run;
 
NOTE: There were 92 observations read from the data set WORK.M2DTQCD7.
NOTE: The data set WORK.TRANSINTERVALMETA has 87 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11551  *------------------------------------------------------------*;
11552  * Trans: Determining Variables to Scale;
11553  *------------------------------------------------------------*;
11554  data WORK.M1ILPJ9W;
11555  set WORK.M1ILPJ9W;
11556  where (TYPE="N" and (METHOD in("MAX_NORM", "MAX_CORR", "EQUALIZE", "OP_MAX_NORM", "OP_EQUALIZE"))) or (ROLE eq "FREQ");
11557  run;
 
NOTE: There were 0 observations read from the data set WORK.M1ILPJ9W.
      WHERE ((TYPE='N') and METHOD in ('EQUALIZE', 'MAX_CORR', 'MAX_NORM', 'OP_EQUALIZE', 'OP_MAX_NORM')) or (ROLE='FREQ');
NOTE: The data set WORK.M1ILPJ9W has 0 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11560  *------------------------------------------------------------*;
11561  * Trans: Computing quantile transformations;
11562  *------------------------------------------------------------*;
11563  %em_varMacro(name=EM_PCTLBINVAR, metadata=WORK.METASET04SUU0N, key=NAME);
 
NOTE: The file MACFILE is:
      Catalog Name=WORK.EMUTIL.MACRO.SOURCE,
      Catalog Page Size=4096,
      Number of Catalog Pages=4,
      Created=Fri, Apr 24, 2020 06:51:51 PM,
      Last Modified=Fri, Apr 24, 2020 06:51:51 PM,
      Filename=C:\Users\skokse_uncc\AppData\Local\Temp\74\SAS Temporary Files\_TD7800_MSNV-UNCC1-RDS2_\emutil.sas7bcat,
      Release Created=9.0401M5,
      Host Created=X64_DSRV16,
      Owner Name=APPORTO\skokse_uncc,
      File Size=             5KB,
      File Size (bytes)=5120
 
NOTE: 3 records were written to the file MACFILE.
      The minimum record length was 20.
      The maximum record length was 36.
NOTE: There were 3 observations read from the data set WORK.METASET04SUU0N.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
NOTE: Fileref MACFILE has been deassigned.
11567  data work.EM_TRANS_STDIZE / view=work.EM_TRANS_STDIZE;
11568  set EMWS2.Trans_TRAIN(keep=%EM_PCTLBINVAR );
11569  run;
 
NOTE: DATA STEP view saved on file WORK.EM_TRANS_STDIZE.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS2.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
 
11570  data work.TRANS_QUANTMETADS;
11571  set WORK.METASET04SUU0N;
11572  if NUMBINS eq . then NUMBINS=4;
11573  run;
 
NOTE: There were 3 observations read from the data set WORK.METASET04SUU0N.
NOTE: The data set WORK.TRANS_QUANTMETADS has 3 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11574  proc sort data=work.TRANS_QUANTMETADS;
11575  by NUMBINS NAME;
11576  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_QUANTMETADS.
NOTE: The data set WORK.TRANS_QUANTMETADS has 3 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11577  data _null_;
11578  set work.TRANS_QUANTMETADS;
11579  length pctlString $200;
11580  length VarString $80;
11581  retain VarString '';
11582  retain Count 0;
11583  by Numbins;
11584  if first.numbins then do;
11585  count + 1;
11586  pctlString = '';
11587  call execute("proc stdize data=work.EM_TRANS_STDIZE outstat=WORK.TransBIN_PCTL out=_null_
11588              pctlpts=");
11589  do i=1 to numbins -1;
11590  pctlString = strip(pctlString)!!' '!!strip(put(i*100/numbins, 5.1));
11591  end;
11592  call execute(strip(pctlString)!!";");
11593  call execute("var ");
11594  VarString = strip(NAME);
11595  end;
11596  else do;
11597  if length(strip(VarString)) + length(strip(NAME)) + 1 < 80 then VarString = strip(VarString)!!' '!!strip(NAME);
11598  else do;
11599  call execute(varString);
11600  VarString = NAME;
11601  end;
11602  end;
11603  if last.numbins then do;
11604  call execute(varString!!';');
11605  call execute("run;");
11606  if count = 1 then call execute("data  WORK.Trans_PCTL;");
11607  else call execute("data  WORK.TransBIN_PCTL;");
11608  call execute("   length _PCTLPTS 8;");
11609  call execute("   set WORK.TransBIN_PCTL(where=(_type_=:'P'));");
11610  call execute("   _PCTLPTS = input(substr(tranwrd(_TYPE_, '_', '.'), 2), best.);");
11611  call execute("run;");
11612  if count ne 1 then do;
11613  call execute("data WORK.Trans_PCTL;");
11614  call execute("   merge WORK.Trans_PCTL WORK.TransBIN_PCTL;");
11615  call execute("   by _PCTLPTS;");
11616  call execute("run;");
11617  end;
11618  end;
11619  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_QUANTMETADS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: CALL EXECUTE generated line.
1     + proc stdize data=work.EM_TRANS_STDIZE outstat=WORK.TransBIN_PCTL out=_null_            pctlpts=
2     + 20.0 40.0 60.0 80.0;
3     + var
4     + DAYLAST_REV DOLL24 FREQPRCH                                                     ;
5     + run;
 
NOTE: There were 48356 observations read from the data set DATA.CATALOG2010.
NOTE: There were 48356 observations read from the data set EMWS2.IDS_DATA.
NOTE: View WORK.EM_TRANS_STDIZE.VIEW used (Total process time):
      real time           0.21 seconds
      cpu time            0.21 seconds
 
NOTE: There were 48356 observations read from the data set EMWS2.TRANS_TRAIN.
NOTE: There were 48356 observations read from the data set WORK.EM_TRANS_STDIZE.
NOTE: The data set WORK.TRANSBIN_PCTL has 12 observations and 4 variables.
NOTE: PROCEDURE STDIZE used (Total process time):
      real time           0.21 seconds
      cpu time            0.21 seconds
 
 
6     + data  WORK.Trans_PCTL;
7     +    length _PCTLPTS 8;
8     +    set WORK.TransBIN_PCTL(where=(_type_=:'P'));
9     +    _PCTLPTS = input(substr(tranwrd(_TYPE_, '_', '.'), 2), best.);
10    + run;
 
NOTE: There were 4 observations read from the data set WORK.TRANSBIN_PCTL.
      WHERE _type_=:'P';
NOTE: The data set WORK.TRANS_PCTL has 4 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
NOTE: View EMWS2.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.59 seconds
      cpu time            0.54 seconds
 
NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this session.
*------------------------------------------------------------*
*  Trans: Creating EMWS2.Trans2_RESULT
*------------------------------------------------------------*
WARNING: Multiple lengths were specified for the BY variable NAME by input data sets. This might cause unexpected results.
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.07 seconds
      cpu time            0.01 seconds
 
 
11664  data EMWS2.Trans2_RESULT;
11665  length NAME $32 FORMULA $70 POWER 8 ROLE $32 LEVEL $10 INPUTNAME $32 INPUTTYPE $1 LABEL $44;
11666  label INPUTNAME ='Input Name' NAME='Name' POWER='Power' FORMULA='Formula' ROLE='Role' INPUTLEVEL='Input Level' LEVEL='Level' INPUTTYPE='Input Type' TYPE='Type';
11667  set EMWS2.Trans2_RESULT;
11668  if INPUTNAME = '' then INPUTNAME = "Mixture of variables";
11669  run;
 
NOTE: There were 3 observations read from the data set EMWS2.TRANS2_RESULT.
NOTE: The data set EMWS2.TRANS2_RESULT has 3 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.15 seconds
      cpu time            0.01 seconds
 
 
11670  data WORK.M3RR0U3K;
11671  set WORK.M3RR0U3K;
11672  if ROLE='REJECTED' then ROLE='INPUT';
11673  run;
 
NOTE: There were 3 observations read from the data set WORK.M3RR0U3K.
NOTE: The data set WORK.M3RR0U3K has 3 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
*------------------------------------------------------------*
*  Trans: Computing summary statistics for transformed variables
*------------------------------------------------------------*
11800  data WORK.TRANSFOR_0H6MM_G_STATISTIC;
11801  set WORK.Trans_TEMP;
11802  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_TEMP.
NOTE: The data set WORK.TRANSFOR_0H6MM_G_STATISTIC has 3 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11803  %exploreSample(DATA=EMWS2.Trans_TRAIN, OUTPUT=EMWS2.Trans2_SAMPLE_DATA, METADATA=EMWS2.Trans_CMeta_TRAIN, VARS=, METHOD=FIRSTN, SIZE=DEFAULT, ALPHA=0.01, PVALUE=0.01, SEED=12345);
NOTE: Fileref X has been deassigned.
NOTE: EXPLOREOBS EMWS2.Trans_TRAIN : vars= 99 : recl= 768 : max=20000 : def= 2000
PERFORMANCE  DETAILS
*------------------------------------------------------------*
* FirstN/Top sample
*------------------------------------------------------------*
 
NOTE: There were 48356 observations read from the data set DATA.CATALOG2010.
NOTE: View EMWS2.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.12 seconds
      cpu time            0.09 seconds
 
NOTE: There were 48356 observations read from the data set EMWS2.IDS_DATA.
NOTE: There were 2000 observations read from the data set EMWS2.TRANS_TRAIN.
NOTE: The data set EMWS2.TRANS2_SAMPLE_DATA has 2000 observations and 99 variables.
NOTE: DATA statement used (Total process time):
      real time           0.29 seconds
      cpu time            0.11 seconds
 
 
 
11980  proc print data = EMWS2.Trans2_RESULT(obs=500) noobs label;
11981  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_computedtransformations_title, NOQUOTE))";
11982  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11983  var INPUTNAME ROLE INPUTLEVEL NAME LEVEL FORMULA;
11984  run;
 
NOTE: There were 3 observations read from the data set EMWS2.TRANS2_RESULT.
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11985  title9;
11986  title10;
 
*------------------------------------------------------------*
* Score Log
Date:                April 24, 2020
Time:                18:51:53
*------------------------------------------------------------*
12088  proc sort data=EMWS2.Trans2_RESULT out=WORK.Trans2RESULT NOTHREADS;
12089  by INPUTNAME;
12090  run;
 
NOTE: There were 3 observations read from the data set EMWS2.TRANS2_RESULT.
NOTE: The data set WORK.TRANS2RESULT has 3 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12091  proc sort data=EMWS2.Trans2_VariableSet(KEEP= NAME FAMILY REPORT rename=(NAME=INPUTNAME)) out=WORK.Trans2VARSET NOTHREADS;
12092  by INPUTNAME;
12093  run;
 
NOTE: There were 97 observations read from the data set EMWS2.TRANS2_VARIABLESET.
NOTE: The data set WORK.TRANS2VARSET has 97 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12094  data WORK.Trans2RESULT;
12095  merge WORK.Trans2RESULT WORK.Trans2VARSET;
12096  by INPUTNAME;
12097  if NAME ne '' then output;
12098  run;
 
WARNING: Multiple lengths were specified for the BY variable INPUTNAME by input data sets. This might cause unexpected results.
NOTE: There were 3 observations read from the data set WORK.TRANS2RESULT.
NOTE: There were 97 observations read from the data set WORK.TRANS2VARSET.
NOTE: The data set WORK.TRANS2RESULT has 3 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12099  filename _code "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS2\Trans2\TRAINDELTACODE.sas";
12100  data _null_;
12101  set WORK.Trans2RESULT;
12102  length String $200;
12103  file _code;
12104  String = 'if NAME="'!!strip(name)!!'" then do;';
12105  put / String;
12106  if family ne '' then do;
12107  String = '   FAMILY ="'!!strip(family)!!'";';
12108  put String;
12109  end;
12110  select(formula);
12111  when('Interaction') put '   FAMILY  ="INTERACTION";';
12112  when('') put '   COMMENT = "' method 'transformation of ' INPUTVAR '";';
12113  otherwise put '   COMMENT = "' formula '";';
12114  end;
12115  String = '   ROLE ="'!!strip(role)!!'";';
12116  put String;
12117  if REPORT="" then REPORT = "N";
12118  String = '   REPORT ="'!!strip(report)!!'";';
12119  put String;
12120  String = '   LEVEL  ="'!!strip(level)!!'";';
12121  put String;
12122  put 'end;';
12123  if formula ne 'Interaction' and INPUTNAME ne '' then do;
12124  String = 'if NAME="'!!strip(INPUTNAME)!!'" then delete;';
12125  put String;
12126  end;
12127  run;
 
NOTE: Variable method is uninitialized.
NOTE: Variable INPUTVAR is uninitialized.
NOTE: The file _CODE is:
      Filename=\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS2\Trans2\TRAINDELTACODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=24Apr2020:18:51:53,
      Create Time=24Apr2020:18:51:53
 
NOTE: 24 records were written to the file _CODE.
      The minimum record length was 0.
      The maximum record length was 35.
NOTE: There were 3 observations read from the data set WORK.TRANS2RESULT.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12128  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
12129  filename emflow "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS2\Trans2\EMFLOWSCORE.sas";
12130  *------------------------------------------------------------*;
12131  * Trans2: Scoring DATA data;
12132  *------------------------------------------------------------*;
12133  data EMWS2.Trans2_TRAIN
12134  / view=EMWS2.Trans2_TRAIN
12135  ;
12136  set EMWS2.Trans_TRAIN
12137  ;
12138  %inc emflow;
12202  run;
 
NOTE: DATA STEP view saved on file EMWS2.TRANS2_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS2.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.14 seconds
      cpu time            0.03 seconds
 
NOTE: DATA statement used (Total process time):
      real time           0.14 seconds
      cpu time            0.03 seconds
 
 
12203  quit;
12204  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.
 
12205  *------------------------------------------------------------*;
12206  * Trans2: Computing metadata for TRAIN data;
12207  *------------------------------------------------------------*;
 
NOTE: View EMWS2.TRANS2_TRAIN.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
 
NOTE: View EMWS2.TRANS2_TRAIN.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
 
*------------------------------------------------------------*
* Report Log
Date:                April 24, 2020
Time:                18:51:54
*------------------------------------------------------------*
12595  *------------------------------------------------------------*;
12596  * &msgString;
12597  *------------------------------------------------------------*;
12598  filename _flowref "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS2\Trans2\EMFLOWSCORE.sas";
12599  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK.TRANS_SCOREINPUTS;
12600  %INCLUDE _flowref;
12664  run;
 
NOTE: Dependency structure written to data set WORK.TRANS_SCOREINPUTS.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12665  quit;
12666  data WORK.TRANS_SCOREINPUTS;
12667  set WORK.TRANS_SCOREINPUTS(keep=RHS rename=(RHS=NAME));
12668  length UNAME $32;
12669  UNAME = upcase(NAME);
12670  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12671  proc sort data=WORK.TRANS_SCOREINPUTS NODUPKEY;
12672  by UNAME;
12673  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12674  filename _flowref;
NOTE: Fileref _FLOWREF has been deassigned.
12675  %let SYSCC = 0;
12676  *------------------------------------------------------------*;
12677  * transformcombinevariables;
12678  *------------------------------------------------------------*;
12679  data WORK.TRANS_OUTPUTVARS;
12680  length Uname inputName $32 inputLevel $10 inputType $1 _MetaFlag 8;
12681  set
12682  EMWS2.Trans2_RESULT
12683  ;
12684  _MetaFlag=0;
12685  uname = upcase(name);
12686  run;
 
NOTE: There were 3 observations read from the data set EMWS2.TRANS2_RESULT.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 3 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12687  data _temp;
12688  length UNAME $32;
12689  set EMWS2.Trans2_CMeta_TRAIN(keep=NAME LEVEL ROLE TYPE CREATOR LABEL);
12690  UNAME = upcase(name);
12691  where upcase(CREATOR) = upcase("Trans2");
12692  run;
 
NOTE: There were 3 observations read from the data set EMWS2.TRANS2_CMETA_TRAIN.
      WHERE UPCASE(CREATOR)='TRANS2';
NOTE: The data set WORK._TEMP has 3 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
 
 
12693  proc sort data=_temp(drop=CREATOR);
12694  by UNAME;
12695  run;
 
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 3 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12696  proc sort data=WORK.TRANS_OUTPUTVARS;
12697  by UNAME;
12698  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 3 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12699  data WORK.TRANS_OUTPUTVARS;
12700  merge WORK.TRANS_OUTPUTVARS _temp;
12701  by UNAME;
12702  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 3 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12703  *------------------------------------------------------------*;
12704  * Trans2: Get Metadata for the Score Inputs Variables;
12705  *------------------------------------------------------------*;
12706  data _temp;
12707  length UNAME $32;
12708  set EMWS2.Trans2_VariableSet(keep=NAME LEVEL TYPE LABEL);
12709  UNAME = upcase(name);
12710  run;
 
NOTE: There were 97 observations read from the data set EMWS2.TRANS2_VARIABLESET.
NOTE: The data set WORK._TEMP has 97 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12711  proc sort data=_temp;
12712  by UNAME;
12713  run;
 
NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 97 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12714  data WORK.TRANS_SCOREINPUTS;
12715  merge WORK.TRANS_SCOREINPUTS(in=_a) _temp(in=_b);
12716  by UNAME;
12717  if _a and _b then output;
12718  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12719  *------------------------------------------------------------*;
12720  * Trans2: Computing Summary Statistics;
12721  *------------------------------------------------------------*;
12722  proc dmdb data=EMWS2.Trans2_TRAIN classout=WORK.TRANS_CLASSSTATS varout=WORK.TRANS_VARSTATS;
12723  class
12724  PCTL_DAYLAST_REV
12725  PCTL_DOLL24
12726  PCTL_FREQPRCH
12727  ;
12728  var
12729  DAYLAST_REV
12730  DOLL24
12731  FREQPRCH
12732  ;
12733  run;
 
NOTE: Records processed = 48356   Memory used = 511K.
NOTE: There were 48356 observations read from the data set DATA.CATALOG2010.
NOTE: There were 48356 observations read from the data set EMWS2.IDS_DATA.
NOTE: View EMWS2.TRANS2_TRAIN.VIEW used (Total process time):
      real time           0.14 seconds
      cpu time            0.14 seconds
 
NOTE: There were 48356 observations read from the data set EMWS2.TRANS_TRAIN.
NOTE: There were 48356 observations read from the data set EMWS2.TRANS2_TRAIN.
NOTE: The data set WORK.TRANS_CLASSSTATS has 12 observations and 9 variables.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.17 seconds
      cpu time            0.14 seconds
 
 
12734  *------------------------------------------------------------*;
12735  * Trans2: Combine Information and Statistics for Class Variables;
12736  *------------------------------------------------------------*;
12737  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12738  by NAME;
12739  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 3 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12740  proc sort data=WORK.TRANS_CLASSSTATS;
12741  by NAME;
12742  run;
 
NOTE: There were 12 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 12 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12743  data WORK.TRANS_CLASSSTATS(keep=name nlevel nmiss);
12744  retain nlevel nmiss;
12745  set WORK.TRANS_CLASSSTATS;
12746  by Name;
12747  if first.Name then do;
12748  nlevel= 0;
12749  nmiss= 0;
12750  end;
12751  if (type='C' and CRAW='') or (type='N' and NRAW=.) then nmiss = FREQUENCY;
12752  else nlevel + 1;
12753  if last.name then output;
12754  run;
 
NOTE: There were 12 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 3 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12755  /*Merge Statistics for Class Output Vars */
12756  data WORK.TRANS_CLASSSTATS;
12757  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12758  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b keep=NAME InputName Formula _MetaFlag LEVEL TYPE LABEL);
12759  by NAME;
12760  if _a and _b then do;
12761  SOURCE='Output';
12762  if _MetaFlag = 1 then _METHOD_="Meta";
12763  else if Formula eq 'Interaction' then _METHOD_="Computed";
12764  else if inputName eq '' then _METHOD_="Formula";
12765  else _METHOD_="Computed";
12766  if Formula = '' then Formula = "User Code";
12767  end;
12768  if _a then output;
12769  drop inputName LEVEL TYPE _MetaFlag;
12770  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 3 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12771  /*Merge Statistics for Class Input Vars */
12772  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12773  by NAME;
12774  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 3 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12775  data WORK.TRANS_CLASSSTATS;
12776  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b);
12777  by NAME;
12778  if _a and _b then do;
12779  SOURCE='Input';
12780  _METHOD_="Original";
12781  end;
12782  if _a then output;
12783  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 3 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12784  *------------------------------------------------------------*;
12785  * Trans2: Combine Information and Statistics for Interval Variables;
12786  *------------------------------------------------------------*;
12787  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12788  by NAME;
12789  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 3 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12790  proc sort data=WORK.TRANS_VARSTATS;
12791  by NAME;
12792  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12793  *Merge Statistics for Output Vars;
12794  data WORK.TRANS_VARSTATS;
12795  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12796  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b keep=NAME Formula InputName _MetaFlag LEVEL TYPE LABEL);
12797  by NAME;
12798  if _a and _b then do;
12799  SOURCE='Output';
12800  if _MetaFlag = 1 then _METHOD_="Meta";
12801  else if Formula eq 'Interaction' then _METHOD_="Computed";
12802  else if inputName eq '' then _METHOD_="Formula";
12803  else _METHOD_="Computed";
12804  if Formula = '' then Formula = "Mixture of variables";
12805  end;
12806  if _a then output;
12807  drop inputName LEVEL TYPE _MetaFlag;
12808  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12809  *Merge Statistics for Input Vars;
12810  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12811  by NAME;
12812  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 3 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12813  data WORK.TRANS_VARSTATS;
12814  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b);
12815  by NAME;
12816  if _a and _b then do;
12817  SOURCE='Input';
12818  _METHOD_="Original";
12819  end;
12820  if _a then output;
12821  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12822  *------------------------------------------------------------*;
12823  * Trans2: Combine statistics for class and interval variables;
12824  *------------------------------------------------------------*;
12825  data EMWS2.Trans2_STATISTICS;
12826  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12827  label SOURCE = "%sysfunc(sasmsg(sashelp.dmine, rpt_source_vlabel,  NOQUOTE))" _METHOD_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_method_vlabel,  NOQUOTE))" NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA =
12828     "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,   NOQUOTE))" NLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonmiss_vlabel, NOQUOTE))" NMISS =
12829     "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))" MIN = "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))" MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))" MEAN =
12830     "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,    NOQUOTE))" STD = "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,     NOQUOTE))" SKEWNESS = "%sysfunc(sasmsg(sashelp.dmine, rpt_skewness_vlabel, NOQUOTE))" KURTOSIS =
12831     "%sysfunc(sasmsg(sashelp.dmine, rpt_kurtosis_vlabel, NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
12832  set
12833  WORK.TRANS_CLASSSTATS
12834  WORK.TRANS_VARSTATS
12835  ;
12836  drop UNAME;
12837  run;
 
NOTE: There were 3 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set EMWS2.TRANS2_STATISTICS has 6 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.12 seconds
      cpu time            0.01 seconds
 
 
12838  proc sort data=EMWS2.Trans2_STATISTICS;
12839  by SOURCE _METHOD_ NAME;
12840  run;
 
NOTE: There were 6 observations read from the data set EMWS2.TRANS2_STATISTICS.
NOTE: The data set EMWS2.TRANS2_STATISTICS has 6 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.17 seconds
      cpu time            0.03 seconds
 
 
12841  proc sort data = EMWS2.Trans2_STATISTICS NOTHREADS;
12842  by SOURCE NAME;
12843  run;
 
NOTE: There were 6 observations read from the data set EMWS2.TRANS2_STATISTICS.
NOTE: The data set EMWS2.TRANS2_STATISTICS has 6 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.14 seconds
      cpu time            0.00 seconds
 
 
12844  title9 ' ';
12845  proc print data = EMWS2.Trans2_STATISTICS(obs=500) noobs label;
12846  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervalinputStats_title, NOQUOTE))";
12847  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12848  var Name NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12849  where SOURCE eq 'INPUT' and mean ne .;
12850  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS2_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS2_STATISTICS.
      WHERE (SOURCE='INPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12851  proc print data = EMWS2.Trans2_STATISTICS(obs=500) noobs label;
12852  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervaloutputStats_title, NOQUOTE))";
12853  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12854  var Name _METHOD_ NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12855  where SOURCE eq 'OUTPUT' and mean ne .;
12856  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS2_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS2_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12857  proc print data = EMWS2.Trans2_STATISTICS(obs=500) noobs label;
12858  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classinputStats_title, NOQUOTE))";
12859  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12860  var Name NLEVEL NMISS;
12861  where SOURCE eq 'INPUT' and nlevel ne .;
12862  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS2_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS2_STATISTICS.
      WHERE (SOURCE='INPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12863  proc print data = EMWS2.Trans2_STATISTICS(obs=500) noobs label;
12864  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classoutputStats_title, NOQUOTE))";
12865  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12866  var Name _METHOD_ NLEVEL NMISS;
12867  where SOURCE eq 'OUTPUT' and nlevel ne .;
12868  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS2_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS2_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12869  title9;
12870  title10;
 
12871  data EMWS2.Trans2_EMSCOREVAR;
12872  length Name $32 formula $300 file $200;
12873  keep NAME Formula file;
12874  set EMWS2.Trans2_STATISTICS;
12875  where SOURCE='Output';
12876  select( _METHOD_);
12877  when('Computed') do;
12878  file="TRANSFORMCODE\"!!strip(NAME)!!'.sas';
12879  formula = '';
12880  end;
12881  when('Formula') do;
12882  if Formula eq 'Mixture of variables' then do;
12883  file= "EDITORCODE.sas";
12884  formula = '';
12885  end;
12886  if Formula = 'User Code' then do;
12887  file= "EDITORCODE.sas";
12888  formula = '';
12889  end;
12890  end;
12891  otherwise;
12892  end;
12893  output;
12894  run;
 
NOTE: There were 3 observations read from the data set EMWS2.TRANS2_STATISTICS.
      WHERE SOURCE='Output';
NOTE: The data set EMWS2.TRANS2_EMSCOREVAR has 3 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.01 seconds
 
 
