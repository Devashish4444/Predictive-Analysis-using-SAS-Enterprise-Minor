*------------------------------------------------------------*
* Report Log
Date:                April 24, 2020
Time:                18:46:56
*------------------------------------------------------------*
12203  *------------------------------------------------------------*;
12204  * &msgString;
12205  *------------------------------------------------------------*;
12206  filename _flowref "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS2\Trans\EMFLOWSCORE.sas";
12207  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK.TRANS_SCOREINPUTS;
12208  %INCLUDE _flowref;
12213  run;

NOTE: Dependency structure written to data set WORK.TRANS_SCOREINPUTS.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12214  quit;
12215  data WORK.TRANS_SCOREINPUTS;
12216  set WORK.TRANS_SCOREINPUTS(keep=RHS rename=(RHS=NAME));
12217  length UNAME $32;
12218  UNAME = upcase(NAME);
12219  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12220  proc sort data=WORK.TRANS_SCOREINPUTS NODUPKEY;
12221  by UNAME;
12222  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 1 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12223  filename _flowref;
NOTE: Fileref _FLOWREF has been deassigned.
12224  %let SYSCC = 0;
12225  *------------------------------------------------------------*;
12226  * transformcombinevariables;
12227  *------------------------------------------------------------*;
12228  data WORK.TRANS_OUTPUTVARS;
12229  length Uname inputName $32 inputLevel $10 inputType $1 _MetaFlag 8;
12230  set
12231  EMWS2.Trans_FORMULA
12232  ;
12233  _MetaFlag=0;
12234  uname = upcase(name);
12235  run;

NOTE: Variable inputName is uninitialized.
NOTE: Variable inputLevel is uninitialized.
NOTE: Variable inputType is uninitialized.
NOTE: There were 1 observations read from the data set EMWS2.TRANS_FORMULA.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12236  data _temp;
12237  length UNAME $32;
12238  set EMWS2.Trans_CMeta_TRAIN(keep=NAME LEVEL ROLE TYPE CREATOR LABEL);
12239  UNAME = upcase(name);
12240  where upcase(CREATOR) = upcase("Trans");
12241  run;

NOTE: There were 1 observations read from the data set EMWS2.TRANS_CMETA_TRAIN.
      WHERE UPCASE(CREATOR)='TRANS';
NOTE: The data set WORK._TEMP has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

12242  proc sort data=_temp(drop=CREATOR);
12243  by UNAME;
12244  run;

NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 1 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12245  proc sort data=WORK.TRANS_OUTPUTVARS;
12246  by UNAME;
12247  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12248  data WORK.TRANS_OUTPUTVARS;
12249  merge WORK.TRANS_OUTPUTVARS _temp;
12250  by UNAME;
12251  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12252  *------------------------------------------------------------*;
12253  * Trans: Get Metadata for the Score Inputs Variables;
12254  *------------------------------------------------------------*;
12255  data _temp;
12256  length UNAME $32;
12257  set EMWS2.Trans_VariableSet(keep=NAME LEVEL TYPE LABEL);
12258  UNAME = upcase(name);
12259  run;

NOTE: There were 97 observations read from the data set EMWS2.TRANS_VARIABLESET.
NOTE: The data set WORK._TEMP has 97 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12260  proc sort data=_temp;
12261  by UNAME;
12262  run;

NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 97 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12263  data WORK.TRANS_SCOREINPUTS;
12264  merge WORK.TRANS_SCOREINPUTS(in=_a) _temp(in=_b);
12265  by UNAME;
12266  if _a and _b then output;
12267  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 1 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12268  *------------------------------------------------------------*;
12269  * Trans: Computing Summary Statistics;
12270  *------------------------------------------------------------*;
12271  proc dmdb data=EMWS2.Trans_TRAIN classout=WORK.TRANS_CLASSSTATS varout=WORK.TRANS_VARSTATS;
12272  ;
12273  var
12274  DAYLAST
12275  DAYLAST_REV
12276  ;
12277  run;

NOTE: Records processed = 48356   Memory used = 511K.
NOTE: There were 48356 observations read from the data set DATA.CATALOG2010.
NOTE: View EMWS2.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.09 seconds
      cpu time            0.09 seconds
      
NOTE: There were 48356 observations read from the data set EMWS2.IDS_DATA.
NOTE: There were 48356 observations read from the data set EMWS2.TRANS_TRAIN.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.10 seconds
      cpu time            0.11 seconds
      

12278  *------------------------------------------------------------*;
12279  * Trans: Combine Information and Statistics for Class Variables;
12280  *------------------------------------------------------------*;
12281  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12282  by NAME;
12283  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12284  proc sort data=WORK.TRANS_CLASSSTATS;
12285  by NAME;
12286  run;

NOTE: Input data set is empty.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12287  data WORK.TRANS_CLASSSTATS(keep=name nlevel nmiss);
12288  retain nlevel nmiss;
12289  set WORK.TRANS_CLASSSTATS;
12290  by Name;
12291  if first.Name then do;
12292  nlevel= 0;
12293  nmiss= 0;
12294  end;
12295  if (type='C' and CRAW='') or (type='N' and NRAW=.) then nmiss = FREQUENCY;
12296  else nlevel + 1;
12297  if last.name then output;
12298  run;

NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12299  /*Merge Statistics for Class Output Vars */
12300  data WORK.TRANS_CLASSSTATS;
12301  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12302  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b keep=NAME InputName Formula _MetaFlag LEVEL TYPE LABEL);
12303  by NAME;
12304  if _a and _b then do;
12305  SOURCE='Output';
12306  if _MetaFlag = 1 then _METHOD_="Meta";
12307  else if Formula eq 'Interaction' then _METHOD_="Computed";
12308  else if inputName eq '' then _METHOD_="Formula";
12309  else _METHOD_="Computed";
12310  if Formula = '' then Formula = "User Code";
12311  end;
12312  if _a then output;
12313  drop inputName LEVEL TYPE _MetaFlag;
12314  run;

NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12315  /*Merge Statistics for Class Input Vars */
12316  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12317  by NAME;
12318  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 1 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12319  data WORK.TRANS_CLASSSTATS;
12320  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b);
12321  by NAME;
12322  if _a and _b then do;
12323  SOURCE='Input';
12324  _METHOD_="Original";
12325  end;
12326  if _a then output;
12327  run;

NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12328  *------------------------------------------------------------*;
12329  * Trans: Combine Information and Statistics for Interval Variables;
12330  *------------------------------------------------------------*;
12331  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12332  by NAME;
12333  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12334  proc sort data=WORK.TRANS_VARSTATS;
12335  by NAME;
12336  run;

NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12337  *Merge Statistics for Output Vars;
12338  data WORK.TRANS_VARSTATS;
12339  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12340  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b keep=NAME Formula InputName _MetaFlag LEVEL TYPE LABEL);
12341  by NAME;
12342  if _a and _b then do;
12343  SOURCE='Output';
12344  if _MetaFlag = 1 then _METHOD_="Meta";
12345  else if Formula eq 'Interaction' then _METHOD_="Computed";
12346  else if inputName eq '' then _METHOD_="Formula";
12347  else _METHOD_="Computed";
12348  if Formula = '' then Formula = "Mixture of variables";
12349  end;
12350  if _a then output;
12351  drop inputName LEVEL TYPE _MetaFlag;
12352  run;

NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12353  *Merge Statistics for Input Vars;
12354  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12355  by NAME;
12356  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 1 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12357  data WORK.TRANS_VARSTATS;
12358  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b);
12359  by NAME;
12360  if _a and _b then do;
12361  SOURCE='Input';
12362  _METHOD_="Original";
12363  end;
12364  if _a then output;
12365  run;

NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12366  *------------------------------------------------------------*;
12367  * Trans: Combine statistics for class and interval variables;
12368  *------------------------------------------------------------*;
12369  data EMWS2.Trans_STATISTICS;
12370  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12371  label SOURCE = "%sysfunc(sasmsg(sashelp.dmine, rpt_source_vlabel,  NOQUOTE))" _METHOD_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_method_vlabel,  NOQUOTE))" NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA =
12372     "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,   NOQUOTE))" NLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonmiss_vlabel, NOQUOTE))" NMISS =
12373     "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))" MIN = "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))" MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))" MEAN =
12374     "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,    NOQUOTE))" STD = "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,     NOQUOTE))" SKEWNESS = "%sysfunc(sasmsg(sashelp.dmine, rpt_skewness_vlabel, NOQUOTE))" KURTOSIS =
12375     "%sysfunc(sasmsg(sashelp.dmine, rpt_kurtosis_vlabel, NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
12376  set
12377  WORK.TRANS_CLASSSTATS
12378  WORK.TRANS_VARSTATS
12379  ;
12380  drop UNAME;
12381  run;

NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set EMWS2.TRANS_STATISTICS has 2 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.14 seconds
      cpu time            0.03 seconds
      

12382  proc sort data=EMWS2.Trans_STATISTICS;
12383  by SOURCE _METHOD_ NAME;
12384  run;

NOTE: There were 2 observations read from the data set EMWS2.TRANS_STATISTICS.
NOTE: The data set EMWS2.TRANS_STATISTICS has 2 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.15 seconds
      cpu time            0.01 seconds
      

12385  proc sort data = EMWS2.Trans_STATISTICS NOTHREADS;
12386  by SOURCE NAME;
12387  run;

NOTE: There were 2 observations read from the data set EMWS2.TRANS_STATISTICS.
NOTE: The data set EMWS2.TRANS_STATISTICS has 2 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.14 seconds
      cpu time            0.03 seconds
      

12388  title9 ' ';
12389  proc print data = EMWS2.Trans_STATISTICS(obs=500) noobs label;
12390  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervalinputStats_title, NOQUOTE))";
12391  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12392  var Name NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12393  where SOURCE eq 'INPUT' and mean ne .;
12394  run;

NOTE: No observations were selected from data set EMWS2.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS_STATISTICS.
      WHERE (SOURCE='INPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

12395  proc print data = EMWS2.Trans_STATISTICS(obs=500) noobs label;
12396  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervaloutputStats_title, NOQUOTE))";
12397  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12398  var Name _METHOD_ NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12399  where SOURCE eq 'OUTPUT' and mean ne .;
12400  run;

NOTE: No observations were selected from data set EMWS2.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12401  proc print data = EMWS2.Trans_STATISTICS(obs=500) noobs label;
12402  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classinputStats_title, NOQUOTE))";
12403  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12404  var Name NLEVEL NMISS;
12405  where SOURCE eq 'INPUT' and nlevel ne .;
12406  run;

NOTE: No observations were selected from data set EMWS2.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS_STATISTICS.
      WHERE (SOURCE='INPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12407  proc print data = EMWS2.Trans_STATISTICS(obs=500) noobs label;
12408  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classoutputStats_title, NOQUOTE))";
12409  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12410  var Name _METHOD_ NLEVEL NMISS;
12411  where SOURCE eq 'OUTPUT' and nlevel ne .;
12412  run;

NOTE: No observations were selected from data set EMWS2.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12413  title9;
12414  title10;

12415  data EMWS2.Trans_EMSCOREVAR;
12416  length Name $32 formula $300 file $200;
12417  keep NAME Formula file;
12418  set EMWS2.Trans_STATISTICS;
12419  where SOURCE='Output';
12420  select( _METHOD_);
12421  when('Computed') do;
12422  file="TRANSFORMCODE\"!!strip(NAME)!!'.sas';
12423  formula = '';
12424  end;
12425  when('Formula') do;
12426  if Formula eq 'Mixture of variables' then do;
12427  file= "EDITORCODE.sas";
12428  formula = '';
12429  end;
12430  if Formula = 'User Code' then do;
12431  file= "EDITORCODE.sas";
12432  formula = '';
12433  end;
12434  end;
12435  otherwise;
12436  end;
12437  output;
12438  run;

NOTE: There were 1 observations read from the data set EMWS2.TRANS_STATISTICS.
      WHERE SOURCE='Output';
NOTE: The data set EMWS2.TRANS_EMSCOREVAR has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.00 seconds
      

