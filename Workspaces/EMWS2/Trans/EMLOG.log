*------------------------------------------------------------*
User:                skokse_uncc
Date:                April 24, 2020
Time:                18:46:57
Site:                70117250
Platform:            X64_DSRV16
Maintenance Release: 9.04.01M5P091317
EM Version:          14.3
* 
*------------------------------------------------------------*
* Training Log
Date:                April 24, 2020
Time:                18:46:52
*------------------------------------------------------------*
11424  proc freq data=EMWS2.Trans_VariableSet noprint;
11425  table ROLE*LEVEL/out=WORK.TransMETA;
11426  run;
 
NOTE: There were 97 observations read from the data set EMWS2.TRANS_VARIABLESET.
NOTE: The data set WORK.TRANSMETA has 7 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11427  proc print data=WORK.TransMETA label noobs;
11428  var ROLE LEVEL COUNT;
11429  label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
11430  title9 ' ';
11431  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
11432  run;
 
NOTE: There were 7 observations read from the data set WORK.TRANSMETA.
NOTE: The PROCEDURE PRINT printed page 1.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11433  title10;
 
11434  data WORK.M22LQ882;
11435  set WORK.M22LQ882;
11436  if (METHOD='NONE' and ROLE ne 'FREQ') or (role = 'REJECTED' and METHOD = 'DEFAULT') then delete;
11437  run;
 
NOTE: There were 97 observations read from the data set WORK.M22LQ882.
NOTE: The data set WORK.M22LQ882 has 92 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: View EMWS2.IDS_DATA.VIEW used (Total process time):
      real time           1.12 seconds
      cpu time            0.04 seconds
 
NOTE: There were 48356 observations read from the data set DATA.CATALOG2010.
11502  *------------------------------------------------------------*;
11503  * Trans: Computing Summary Statistics;
11504  *------------------------------------------------------------*;
11505  data WORK.M02ZJVD2;
11506  set WORK.M02ZJVD2;
11507  if (role = 'REJECTED') then role = 'INPUT';
11508  run;
 
NOTE: There were 92 observations read from the data set WORK.M02ZJVD2.
NOTE: The data set WORK.M02ZJVD2 has 92 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11509  *------------------------------------------------------------* ;
11510  * EM: DMDBClass Macro ;
11511  *------------------------------------------------------------* ;
11512  %macro DMDBClass;
11513      BOTHPAYM(ASC) CCPAYM(ASC) METHPAYM(ASC) PCPAYM(ASC) RESPOND(DESC)
11514  %mend DMDBClass;
11515  *------------------------------------------------------------* ;
11516  * EM: DMDBVar Macro ;
11517  *------------------------------------------------------------* ;
11518  %macro DMDBVar;
11519      ACTBUY BUYPROP CATALOGCNT DAYLAST DEPT01 DEPT02 DEPT03 DEPT04 DEPT05 DEPT06
11520     DEPT07 DEPT08 DEPT09 DEPT10 DEPT11 DEPT12 DEPT13 DEPT14 DEPT15 DEPT16 DEPT17
11521     DEPT18 DEPT19 DEPT20 DEPT21 DEPT22 DEPT23 DEPT24 DEPT25 DEPT26 DEPT27 DOLINDEA
11522     DOLINDET DOLL24 DOLLARQ01 DOLLARQ02 DOLLARQ03 DOLLARQ04 DOLLARQ05 DOLLARQ06
11523     DOLLARQ07 DOLLARQ08 DOLLARQ09 DOLLARQ10 DOLLARQ11 DOLLARQ12 DOLLARQ13 DOLLARQ14
11524     DOLLARQ15 DOLLARQ16 DOLLARQ17 DOLLARQ18 DOLLARQ19 DOLLARQ20 DOLLARQ21 DOLLARQ22
11525     DOLNETDA DOLNETDT FREQPRCH MONLAST ORDERSIZE TENURE TOTORDQ01 TOTORDQ02
11526     TOTORDQ03 TOTORDQ04 TOTORDQ05 TOTORDQ06 TOTORDQ07 TOTORDQ08 TOTORDQ09 TOTORDQ10
11527     TOTORDQ11 TOTORDQ12 TOTORDQ13 TOTORDQ14 TOTORDQ15 TOTORDQ16 TOTORDQ17 TOTORDQ18
11528     TOTORDQ19 TOTORDQ20 TOTORDQ21 TOTORDQ22 UNITSIDD UNITSLAP UNTLANPO
11529  %mend DMDBVar;
11530  *------------------------------------------------------------*;
11531  * EM: Create DMDB;
11532  *------------------------------------------------------------*;
11533  proc dmdb batch data=EMWS2.Ids_DATA
11534  dmdbcat=WORK.EM_DMDB
11535  classout=WORK.Transclassout
11536  maxlevel = 513
11537  ;
11538  class %DMDBClass;
11539  var %DMDBVar;
11540  target
11541  ORDERSIZE
11542  RESPOND
11543  ;
11544  run;
 
NOTE: Records processed = 48356   Memory used = 511K.
NOTE: View EMWS2.IDS_DATA.VIEW used (Total process time):
      real time           0.14 seconds
      cpu time            0.12 seconds
 
NOTE: There were 48356 observations read from the data set DATA.CATALOG2010.
NOTE: There were 48356 observations read from the data set EMWS2.IDS_DATA.
NOTE: The data set WORK.TRANSCLASSOUT has 12 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.14 seconds
      cpu time            0.12 seconds
 
 
11545  quit;
11546  *--- end code ---*;
 
11547  data WORK.TransINTERVALMETA;
11548  set WORK.M22LQ882;
11549  if LEVEL ne 'INTERVAL' then delete;
11550  run;
 
NOTE: There were 92 observations read from the data set WORK.M22LQ882.
NOTE: The data set WORK.TRANSINTERVALMETA has 87 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11551  *------------------------------------------------------------*;
11552  * Trans: Determining Variables to Scale;
11553  *------------------------------------------------------------*;
11554  data WORK.M2QGYKBH;
11555  set WORK.M2QGYKBH;
11556  where (TYPE="N" and (METHOD in("MAX_NORM", "MAX_CORR", "EQUALIZE", "OP_MAX_NORM", "OP_EQUALIZE"))) or (ROLE eq "FREQ");
11557  run;
 
NOTE: There were 0 observations read from the data set WORK.M2QGYKBH.
      WHERE ((TYPE='N') and METHOD in ('EQUALIZE', 'MAX_CORR', 'MAX_NORM', 'OP_EQUALIZE', 'OP_MAX_NORM')) or (ROLE='FREQ');
NOTE: The data set WORK.M2QGYKBH has 0 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: View EMWS2.IDS_DATA.VIEW used (Total process time):
      real time           0.15 seconds
      cpu time            0.15 seconds
 
*------------------------------------------------------------*
* Score Log
Date:                April 24, 2020
Time:                18:46:54
*------------------------------------------------------------*
11661  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK._CODEINPUT1;
11662  DAYLAST_REV = -1*daylast;
11663  run;
 
NOTE: Dependency structure written to data set WORK._CODEINPUT1.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11664  quit;
 
11665  data WORK._CODEINPUT1;
11666  length ROLE $32 LEVEL $8 REPORT $1;
11667  retain _FormulaNum 1 ROLE "INPUT" REPORT "N" LEVEL "INTERVAL";
11668  set WORK._CODEINPUT1(keep=RHS rename=(RHS=INPUTNAME));
11669  run;
 
NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK._CODEINPUT1 has 1 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11670  proc sort data=WORK._CODEINPUT1 NODUPKEY;
11671  by INPUTNAME;
11672  run;
 
NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._CODEINPUT1 has 1 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11673  proc append base=WORK.TRANS_FORMULAVARS data=WORK._CODEINPUT1;
11674  run;
 
NOTE: Appending WORK._CODEINPUT1 to WORK.TRANS_FORMULAVARS.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11675  data WORK.TRANS_FORMULAVARS;
11676  length UNAME $32;
11677  set WORK.TRANS_FORMULAVARS;
11678  UNAME = upcase(INPUTNAME);
11679  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11680  proc sort data=WORK.TRANS_FORMULAVARS;
11681  by UNAME;
11682  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11683  data _temp;
11684  set EMWS2.Trans_VariableSet(keep=NAME LEVEL ROLE TYPE REPORT rename=(NAME=INPUTNAME LEVEL=INPUTLEVEL ROLE=INPUTROLE TYPE=INPUTTYPE REPORT=INPUTREPORT));
11685  length UNAME $32;
11686  UNAME = upcase(INPUTNAME);
11687  run;
 
NOTE: There were 97 observations read from the data set EMWS2.TRANS_VARIABLESET.
NOTE: The data set WORK._TEMP has 97 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11688  proc sort data=_temp;
11689  by UNAME;
11690  run;
 
NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 97 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11691  data WORK.TRANS_FORMULAVARS;
11692  merge WORK.TRANS_FORMULAVARS(in=_a) _temp(in=_b);
11693  by UNAME;
11694  if _a and _b then output;
11695  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11696  proc sort data=WORK.TRANS_FORMULAVARS;
11697  by _FormulaNum UNAME;
11698  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11699  data WORK.TRANS_FORMULAVARS _target(keep=_FormulaNum);
11700  length ROLE $32 REPORT $1;
11701  set WORK.TRANS_FORMULAVARS;
11702  by _FormulaNum;
11703  if INPUTROLE = 'TARGET' then output _target;
11704  if first._FormulaNum then do;
11705  if ^last._FormulaNum then do;
11706  INPUTNAME='';
11707  INPUTROLE='';
11708  INPUTTYPE='';
11709  INPUTREPORT='';
11710  end;
11711  output WORK.TRANS_FORMULAVARS;
11712  end;
11713  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 10 variables.
NOTE: The data set WORK._TARGET has 0 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11714  data _temp;
11715  set EMWS2.Trans_FORMULA;
11716  _FormulaNum = _N_;
11717  run;
 
NOTE: There were 1 observations read from the data set EMWS2.TRANS_FORMULA.
NOTE: The data set WORK._TEMP has 1 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11718  data WORK.TRANS_CODEFORMULA;
11719  length Name $32 Formula $300 Role $32 Level $10 REPORT $1;
11720  label NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA = "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,  NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,  NOQUOTE))" LEVEL =
11721     "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel,  NOQUOTE))" REPORT = "%sysfunc(sasmsg(sashelp.dmine, meta_report_vlabel,  NOQUOTE))" _targetFlag = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetbased_vlabel,  NOQUOTE))" INPUTNAME =
11722     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputname_vlabel,  NOQUOTE))" INPUTLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputlevel_vlabel,  NOQUOTE))" INPUTROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputrole_vlabel,  NOQUOTE))" INPUTTYPE =
11723     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputtype_vlabel,  NOQUOTE))";
11724  drop _FormulaNum UNAME;
11725  _targetFlag = 0;
11726  merge _temp(in=_a) WORK.TRANS_FORMULAVARS(in=_b) _target(in=_c);
11727  by _FormulaNum;
11728  _targetFlag = 0;
11729  if _c then _targetFlag=1;
11730  if INPUT ne '' then if _a and ^_b then delete;
11731  if ROLE = '' then do;
11732  if INPUTROLE = '' then ROLE='INPUT';
11733  else ROLE = INPUTROLE;
11734  end;
11735  if REPORT = '' then do;
11736  if INPUTREPORT = '' then REPORT='N';
11737  else REPORT = INPUTREPORT;
11738  end;
11739  run;
 
NOTE: Variable INPUT is uninitialized.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 0 observations read from the data set WORK._TARGET.
NOTE: The data set WORK.TRANS_CODEFORMULA has 1 observations and 24 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11740  filename _code "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS2\Trans\FORMULAFLOWCODE.sas";
11741  data _null_;
11742  set WORK.TRANS_CODEFORMULA;
11743  file _code;
11744  if type eq 'C' and length > 0 then do;
11745  put 'length ' name ' $' length ';';
11746  end;
11747  if format ne '' then do;
11748  put 'format ' name format ';';
11749  end;
11750  length deqLabel $202;
11751  if label ne '' then do;
11752  deqlabel = tranwrd(label, '"', '""');
11753  put 'label ' name '="' deqlabel '";';
11754  end;
11755  if name ne '' and formula ne '' then do;
11756  put name '=' formula ';';
11757  end;
11758  run;
 
NOTE: The file _CODE is:
      Filename=\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS2\Trans\FORMULAFLOWCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=24Apr2020:18:46:54,
      Create Time=24Apr2020:18:46:54
 
NOTE: 1 record was written to the file _CODE.
      The minimum record length was 25.
      The maximum record length was 25.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11759  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
11760  filename _code "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS2\Trans\FORMULAPUBLISHCODE.sas";
11761  data _null_;
11762  set WORK.TRANS_CODEFORMULA;
11763  file _code;
11764  if _targetFlag eq 0 then do;
11765  if type eq 'C' and length > 0 then do;
11766  put 'length ' name ' $' length ';';
11767  end;
11768  if format ne '' then do;
11769  put 'format ' name format ';';
11770  end;
11771  length deqLabel $202;
11772  if label ne '' then do;
11773  deqlabel = tranwrd(label, '"', '""');
11774  put 'label ' name '="' deqlabel '";';
11775  end;
11776  if name ne '' and formula ne '' then do;
11777  put name '=' formula ';';
11778  end;
11779  end;
11780  run;
 
NOTE: The file _CODE is:
      Filename=\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS2\Trans\FORMULAPUBLISHCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=24Apr2020:18:46:54,
      Create Time=24Apr2020:18:46:54
 
NOTE: 1 record was written to the file _CODE.
      The minimum record length was 25.
      The maximum record length was 25.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11781  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
11782  filename _code "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS2\Trans\FORMULADELTACODE.sas";
11783  data _null_;
11784  set WORK.TRANS_CODEFORMULA;
11785  file _code;
11786  length String $200;
11787  if ROLE eq '' then ROLE = 'REJECTED';
11788  if REPORT eq '' then REPORT = 'N';
11789  String = 'if NAME="'!!strip(name)!!'" then do;';
11790  put / string;
11791  String = '   ROLE ="'!!strip(role)!!'";';
11792  put string;
11793  String = '   REPORT ="'!!strip(report)!!'";';
11794  put string;
11795  if LEVEL ne '' then do;
11796  String = '   LEVEL ="'!!strip(level)!!'";';
11797  put string;
11798  end;
11799  put 'end;';
11800  if INPUTNAME ne '' then do;
11801  String = 'if NAME="'!!strip(INPUTNAME)!!'" then delete;';
11802  put String;
11803  end;
11804  run;
 
NOTE: The file _CODE is:
      Filename=\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS2\Trans\FORMULADELTACODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=24Apr2020:18:46:54,
      Create Time=24Apr2020:18:46:54
 
NOTE: 7 records were written to the file _CODE.
      The minimum record length was 0.
      The maximum record length was 30.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
 
 
11805  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this session.
11806  proc print data = EMWS2.Trans_FORMULA(obs=500) noobs label;
11807  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_formulatransformations_title, NOQUOTE))";
11808  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11809  var Name ROLE LEVEL FORMULA;
11810  run;
 
NOTE: There were 1 observations read from the data set EMWS2.TRANS_FORMULA.
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11811  title9;
11812  title10;
 
11813  filename emflow "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS2\Trans\EMFLOWSCORE.sas";
11814  *------------------------------------------------------------*;
11815  * Trans: Scoring DATA data;
11816  *------------------------------------------------------------*;
11817  data EMWS2.Trans_TRAIN
11818  / view=EMWS2.Trans_TRAIN
11819  ;
11820  set EMWS2.Ids_DATA
11821  ;
11822  %inc emflow;
11827  run;
 
NOTE: DATA STEP view saved on file EMWS2.TRANS_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS2.IDS_DATA.VIEW used (Total process time):
      real time           0.12 seconds
      cpu time            0.01 seconds
 
NOTE: DATA statement used (Total process time):
      real time           0.12 seconds
      cpu time            0.01 seconds
 
 
11828  quit;
11829  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.
 
11830  *------------------------------------------------------------*;
11831  * Trans: Computing metadata for TRAIN data;
11832  *------------------------------------------------------------*;
 
NOTE: View EMWS2.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
NOTE: View EMWS2.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
*------------------------------------------------------------*
* Report Log
Date:                April 24, 2020
Time:                18:46:56
*------------------------------------------------------------*
12203  *------------------------------------------------------------*;
12204  * &msgString;
12205  *------------------------------------------------------------*;
12206  filename _flowref "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS2\Trans\EMFLOWSCORE.sas";
12207  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK.TRANS_SCOREINPUTS;
12208  %INCLUDE _flowref;
12213  run;
 
NOTE: Dependency structure written to data set WORK.TRANS_SCOREINPUTS.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12214  quit;
12215  data WORK.TRANS_SCOREINPUTS;
12216  set WORK.TRANS_SCOREINPUTS(keep=RHS rename=(RHS=NAME));
12217  length UNAME $32;
12218  UNAME = upcase(NAME);
12219  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12220  proc sort data=WORK.TRANS_SCOREINPUTS NODUPKEY;
12221  by UNAME;
12222  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 1 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12223  filename _flowref;
NOTE: Fileref _FLOWREF has been deassigned.
12224  %let SYSCC = 0;
12225  *------------------------------------------------------------*;
12226  * transformcombinevariables;
12227  *------------------------------------------------------------*;
12228  data WORK.TRANS_OUTPUTVARS;
12229  length Uname inputName $32 inputLevel $10 inputType $1 _MetaFlag 8;
12230  set
12231  EMWS2.Trans_FORMULA
12232  ;
12233  _MetaFlag=0;
12234  uname = upcase(name);
12235  run;
 
NOTE: Variable inputName is uninitialized.
NOTE: Variable inputLevel is uninitialized.
NOTE: Variable inputType is uninitialized.
NOTE: There were 1 observations read from the data set EMWS2.TRANS_FORMULA.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12236  data _temp;
12237  length UNAME $32;
12238  set EMWS2.Trans_CMeta_TRAIN(keep=NAME LEVEL ROLE TYPE CREATOR LABEL);
12239  UNAME = upcase(name);
12240  where upcase(CREATOR) = upcase("Trans");
12241  run;
 
NOTE: There were 1 observations read from the data set EMWS2.TRANS_CMETA_TRAIN.
      WHERE UPCASE(CREATOR)='TRANS';
NOTE: The data set WORK._TEMP has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12242  proc sort data=_temp(drop=CREATOR);
12243  by UNAME;
12244  run;
 
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 1 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12245  proc sort data=WORK.TRANS_OUTPUTVARS;
12246  by UNAME;
12247  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12248  data WORK.TRANS_OUTPUTVARS;
12249  merge WORK.TRANS_OUTPUTVARS _temp;
12250  by UNAME;
12251  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12252  *------------------------------------------------------------*;
12253  * Trans: Get Metadata for the Score Inputs Variables;
12254  *------------------------------------------------------------*;
12255  data _temp;
12256  length UNAME $32;
12257  set EMWS2.Trans_VariableSet(keep=NAME LEVEL TYPE LABEL);
12258  UNAME = upcase(name);
12259  run;
 
NOTE: There were 97 observations read from the data set EMWS2.TRANS_VARIABLESET.
NOTE: The data set WORK._TEMP has 97 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12260  proc sort data=_temp;
12261  by UNAME;
12262  run;
 
NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 97 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12263  data WORK.TRANS_SCOREINPUTS;
12264  merge WORK.TRANS_SCOREINPUTS(in=_a) _temp(in=_b);
12265  by UNAME;
12266  if _a and _b then output;
12267  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 1 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12268  *------------------------------------------------------------*;
12269  * Trans: Computing Summary Statistics;
12270  *------------------------------------------------------------*;
12271  proc dmdb data=EMWS2.Trans_TRAIN classout=WORK.TRANS_CLASSSTATS varout=WORK.TRANS_VARSTATS;
12272  ;
12273  var
12274  DAYLAST
12275  DAYLAST_REV
12276  ;
12277  run;
 
NOTE: Records processed = 48356   Memory used = 511K.
NOTE: There were 48356 observations read from the data set DATA.CATALOG2010.
NOTE: View EMWS2.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.09 seconds
      cpu time            0.09 seconds
 
NOTE: There were 48356 observations read from the data set EMWS2.IDS_DATA.
NOTE: There were 48356 observations read from the data set EMWS2.TRANS_TRAIN.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.10 seconds
      cpu time            0.11 seconds
 
 
12278  *------------------------------------------------------------*;
12279  * Trans: Combine Information and Statistics for Class Variables;
12280  *------------------------------------------------------------*;
12281  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12282  by NAME;
12283  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12284  proc sort data=WORK.TRANS_CLASSSTATS;
12285  by NAME;
12286  run;
 
NOTE: Input data set is empty.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12287  data WORK.TRANS_CLASSSTATS(keep=name nlevel nmiss);
12288  retain nlevel nmiss;
12289  set WORK.TRANS_CLASSSTATS;
12290  by Name;
12291  if first.Name then do;
12292  nlevel= 0;
12293  nmiss= 0;
12294  end;
12295  if (type='C' and CRAW='') or (type='N' and NRAW=.) then nmiss = FREQUENCY;
12296  else nlevel + 1;
12297  if last.name then output;
12298  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12299  /*Merge Statistics for Class Output Vars */
12300  data WORK.TRANS_CLASSSTATS;
12301  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12302  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b keep=NAME InputName Formula _MetaFlag LEVEL TYPE LABEL);
12303  by NAME;
12304  if _a and _b then do;
12305  SOURCE='Output';
12306  if _MetaFlag = 1 then _METHOD_="Meta";
12307  else if Formula eq 'Interaction' then _METHOD_="Computed";
12308  else if inputName eq '' then _METHOD_="Formula";
12309  else _METHOD_="Computed";
12310  if Formula = '' then Formula = "User Code";
12311  end;
12312  if _a then output;
12313  drop inputName LEVEL TYPE _MetaFlag;
12314  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12315  /*Merge Statistics for Class Input Vars */
12316  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12317  by NAME;
12318  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 1 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12319  data WORK.TRANS_CLASSSTATS;
12320  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b);
12321  by NAME;
12322  if _a and _b then do;
12323  SOURCE='Input';
12324  _METHOD_="Original";
12325  end;
12326  if _a then output;
12327  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12328  *------------------------------------------------------------*;
12329  * Trans: Combine Information and Statistics for Interval Variables;
12330  *------------------------------------------------------------*;
12331  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12332  by NAME;
12333  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12334  proc sort data=WORK.TRANS_VARSTATS;
12335  by NAME;
12336  run;
 
NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12337  *Merge Statistics for Output Vars;
12338  data WORK.TRANS_VARSTATS;
12339  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12340  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b keep=NAME Formula InputName _MetaFlag LEVEL TYPE LABEL);
12341  by NAME;
12342  if _a and _b then do;
12343  SOURCE='Output';
12344  if _MetaFlag = 1 then _METHOD_="Meta";
12345  else if Formula eq 'Interaction' then _METHOD_="Computed";
12346  else if inputName eq '' then _METHOD_="Formula";
12347  else _METHOD_="Computed";
12348  if Formula = '' then Formula = "Mixture of variables";
12349  end;
12350  if _a then output;
12351  drop inputName LEVEL TYPE _MetaFlag;
12352  run;
 
NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12353  *Merge Statistics for Input Vars;
12354  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12355  by NAME;
12356  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 1 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12357  data WORK.TRANS_VARSTATS;
12358  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b);
12359  by NAME;
12360  if _a and _b then do;
12361  SOURCE='Input';
12362  _METHOD_="Original";
12363  end;
12364  if _a then output;
12365  run;
 
NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12366  *------------------------------------------------------------*;
12367  * Trans: Combine statistics for class and interval variables;
12368  *------------------------------------------------------------*;
12369  data EMWS2.Trans_STATISTICS;
12370  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12371  label SOURCE = "%sysfunc(sasmsg(sashelp.dmine, rpt_source_vlabel,  NOQUOTE))" _METHOD_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_method_vlabel,  NOQUOTE))" NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA =
12372     "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,   NOQUOTE))" NLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonmiss_vlabel, NOQUOTE))" NMISS =
12373     "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))" MIN = "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))" MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))" MEAN =
12374     "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,    NOQUOTE))" STD = "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,     NOQUOTE))" SKEWNESS = "%sysfunc(sasmsg(sashelp.dmine, rpt_skewness_vlabel, NOQUOTE))" KURTOSIS =
12375     "%sysfunc(sasmsg(sashelp.dmine, rpt_kurtosis_vlabel, NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
12376  set
12377  WORK.TRANS_CLASSSTATS
12378  WORK.TRANS_VARSTATS
12379  ;
12380  drop UNAME;
12381  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set EMWS2.TRANS_STATISTICS has 2 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.14 seconds
      cpu time            0.03 seconds
 
 
12382  proc sort data=EMWS2.Trans_STATISTICS;
12383  by SOURCE _METHOD_ NAME;
12384  run;
 
NOTE: There were 2 observations read from the data set EMWS2.TRANS_STATISTICS.
NOTE: The data set EMWS2.TRANS_STATISTICS has 2 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.15 seconds
      cpu time            0.01 seconds
 
 
12385  proc sort data = EMWS2.Trans_STATISTICS NOTHREADS;
12386  by SOURCE NAME;
12387  run;
 
NOTE: There were 2 observations read from the data set EMWS2.TRANS_STATISTICS.
NOTE: The data set EMWS2.TRANS_STATISTICS has 2 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.14 seconds
      cpu time            0.03 seconds
 
 
12388  title9 ' ';
12389  proc print data = EMWS2.Trans_STATISTICS(obs=500) noobs label;
12390  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervalinputStats_title, NOQUOTE))";
12391  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12392  var Name NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12393  where SOURCE eq 'INPUT' and mean ne .;
12394  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS_STATISTICS.
      WHERE (SOURCE='INPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12395  proc print data = EMWS2.Trans_STATISTICS(obs=500) noobs label;
12396  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervaloutputStats_title, NOQUOTE))";
12397  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12398  var Name _METHOD_ NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12399  where SOURCE eq 'OUTPUT' and mean ne .;
12400  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12401  proc print data = EMWS2.Trans_STATISTICS(obs=500) noobs label;
12402  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classinputStats_title, NOQUOTE))";
12403  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12404  var Name NLEVEL NMISS;
12405  where SOURCE eq 'INPUT' and nlevel ne .;
12406  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS_STATISTICS.
      WHERE (SOURCE='INPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12407  proc print data = EMWS2.Trans_STATISTICS(obs=500) noobs label;
12408  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classoutputStats_title, NOQUOTE))";
12409  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12410  var Name _METHOD_ NLEVEL NMISS;
12411  where SOURCE eq 'OUTPUT' and nlevel ne .;
12412  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12413  title9;
12414  title10;
 
12415  data EMWS2.Trans_EMSCOREVAR;
12416  length Name $32 formula $300 file $200;
12417  keep NAME Formula file;
12418  set EMWS2.Trans_STATISTICS;
12419  where SOURCE='Output';
12420  select( _METHOD_);
12421  when('Computed') do;
12422  file="TRANSFORMCODE\"!!strip(NAME)!!'.sas';
12423  formula = '';
12424  end;
12425  when('Formula') do;
12426  if Formula eq 'Mixture of variables' then do;
12427  file= "EDITORCODE.sas";
12428  formula = '';
12429  end;
12430  if Formula = 'User Code' then do;
12431  file= "EDITORCODE.sas";
12432  formula = '';
12433  end;
12434  end;
12435  otherwise;
12436  end;
12437  output;
12438  run;
 
NOTE: There were 1 observations read from the data set EMWS2.TRANS_STATISTICS.
      WHERE SOURCE='Output';
NOTE: The data set EMWS2.TRANS_EMSCOREVAR has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.00 seconds
 
 
