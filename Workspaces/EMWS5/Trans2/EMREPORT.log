*------------------------------------------------------------*
* Report Log
Date:                April 25, 2020
Time:                17:24:09
*------------------------------------------------------------*
12399  *------------------------------------------------------------*;
12400  * &msgString;
12401  *------------------------------------------------------------*;
12402  filename _flowref "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS5\Trans2\EMFLOWSCORE.sas";
12403  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK.TRANS_SCOREINPUTS;
12404  %INCLUDE _flowref;
12462  run;

NOTE: Dependency structure written to data set WORK.TRANS_SCOREINPUTS.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

12463  quit;
12464  data WORK.TRANS_SCOREINPUTS;
12465  set WORK.TRANS_SCOREINPUTS(keep=RHS rename=(RHS=NAME));
12466  length UNAME $32;
12467  UNAME = upcase(NAME);
12468  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12469  proc sort data=WORK.TRANS_SCOREINPUTS NODUPKEY;
12470  by UNAME;
12471  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12472  filename _flowref;
NOTE: Fileref _FLOWREF has been deassigned.
12473  %let SYSCC = 0;
12474  *------------------------------------------------------------*;
12475  * transformcombinevariables;
12476  *------------------------------------------------------------*;
12477  data WORK.TRANS_OUTPUTVARS;
12478  length Uname inputName $32 inputLevel $10 inputType $1 _MetaFlag 8;
12479  set
12480  EMWS5.Trans2_RESULT
12481  ;
12482  _MetaFlag=0;
12483  uname = upcase(name);
12484  run;

NOTE: There were 3 observations read from the data set EMWS5.TRANS2_RESULT.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 3 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12485  data _temp;
12486  length UNAME $32;
12487  set EMWS5.Trans2_CMeta_TRAIN(keep=NAME LEVEL ROLE TYPE CREATOR LABEL);
12488  UNAME = upcase(name);
12489  where upcase(CREATOR) = upcase("Trans2");
12490  run;

NOTE: There were 3 observations read from the data set EMWS5.TRANS2_CMETA_TRAIN.
      WHERE UPCASE(CREATOR)='TRANS2';
NOTE: The data set WORK._TEMP has 3 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

12491  proc sort data=_temp(drop=CREATOR);
12492  by UNAME;
12493  run;

NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 3 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12494  proc sort data=WORK.TRANS_OUTPUTVARS;
12495  by UNAME;
12496  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 3 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

12497  data WORK.TRANS_OUTPUTVARS;
12498  merge WORK.TRANS_OUTPUTVARS _temp;
12499  by UNAME;
12500  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 3 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12501  *------------------------------------------------------------*;
12502  * Trans2: Get Metadata for the Score Inputs Variables;
12503  *------------------------------------------------------------*;
12504  data _temp;
12505  length UNAME $32;
12506  set EMWS5.Trans2_VariableSet(keep=NAME LEVEL TYPE LABEL);
12507  UNAME = upcase(name);
12508  run;

NOTE: There were 28 observations read from the data set EMWS5.TRANS2_VARIABLESET.
NOTE: The data set WORK._TEMP has 28 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12509  proc sort data=_temp;
12510  by UNAME;
12511  run;

NOTE: There were 28 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 28 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12512  data WORK.TRANS_SCOREINPUTS;
12513  merge WORK.TRANS_SCOREINPUTS(in=_a) _temp(in=_b);
12514  by UNAME;
12515  if _a and _b then output;
12516  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: There were 28 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12517  *------------------------------------------------------------*;
12518  * Trans2: Computing Summary Statistics;
12519  *------------------------------------------------------------*;
12520  proc dmdb data=EMWS5.Trans2_TRAIN classout=WORK.TRANS_CLASSSTATS varout=WORK.TRANS_VARSTATS;
12521  class
12522  PCTL_GiftCntAll
12523  PCTL_MonetaryValue
12524  PCTL_Rev_GiftTimeLast
12525  ;
12526  var
12527  GiftCntAll
12528  MonetaryValue
12529  Rev_GiftTimeLast
12530  ;
12531  run;

NOTE: Records processed = 9686   Memory used = 511K.
NOTE: There were 9686 observations read from the data set DATA.PVA97NK.
NOTE: There were 9686 observations read from the data set EMWS5.IDS_DATA.
NOTE: View EMWS5.TRANS2_TRAIN.VIEW used (Total process time):
      real time           0.07 seconds
      cpu time            0.06 seconds
      
NOTE: There were 9686 observations read from the data set EMWS5.TRANS_TRAIN.
NOTE: There were 9686 observations read from the data set EMWS5.TRANS2_TRAIN.
NOTE: The data set WORK.TRANS_CLASSSTATS has 12 observations and 9 variables.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.07 seconds
      cpu time            0.06 seconds
      

12532  *------------------------------------------------------------*;
12533  * Trans2: Combine Information and Statistics for Class Variables;
12534  *------------------------------------------------------------*;
12535  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12536  by NAME;
12537  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 3 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12538  proc sort data=WORK.TRANS_CLASSSTATS;
12539  by NAME;
12540  run;

NOTE: There were 12 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 12 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12541  data WORK.TRANS_CLASSSTATS(keep=name nlevel nmiss);
12542  retain nlevel nmiss;
12543  set WORK.TRANS_CLASSSTATS;
12544  by Name;
12545  if first.Name then do;
12546  nlevel= 0;
12547  nmiss= 0;
12548  end;
12549  if (type='C' and CRAW='') or (type='N' and NRAW=.) then nmiss = FREQUENCY;
12550  else nlevel + 1;
12551  if last.name then output;
12552  run;

NOTE: There were 12 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 3 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12553  /*Merge Statistics for Class Output Vars */
12554  data WORK.TRANS_CLASSSTATS;
12555  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12556  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b keep=NAME InputName Formula _MetaFlag LEVEL TYPE LABEL);
12557  by NAME;
12558  if _a and _b then do;
12559  SOURCE='Output';
12560  if _MetaFlag = 1 then _METHOD_="Meta";
12561  else if Formula eq 'Interaction' then _METHOD_="Computed";
12562  else if inputName eq '' then _METHOD_="Formula";
12563  else _METHOD_="Computed";
12564  if Formula = '' then Formula = "User Code";
12565  end;
12566  if _a then output;
12567  drop inputName LEVEL TYPE _MetaFlag;
12568  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 3 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12569  /*Merge Statistics for Class Input Vars */
12570  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12571  by NAME;
12572  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 3 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12573  data WORK.TRANS_CLASSSTATS;
12574  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b);
12575  by NAME;
12576  if _a and _b then do;
12577  SOURCE='Input';
12578  _METHOD_="Original";
12579  end;
12580  if _a then output;
12581  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 3 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12582  *------------------------------------------------------------*;
12583  * Trans2: Combine Information and Statistics for Interval Variables;
12584  *------------------------------------------------------------*;
12585  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12586  by NAME;
12587  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 3 observations and 13 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12588  proc sort data=WORK.TRANS_VARSTATS;
12589  by NAME;
12590  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12591  *Merge Statistics for Output Vars;
12592  data WORK.TRANS_VARSTATS;
12593  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12594  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b keep=NAME Formula InputName _MetaFlag LEVEL TYPE LABEL);
12595  by NAME;
12596  if _a and _b then do;
12597  SOURCE='Output';
12598  if _MetaFlag = 1 then _METHOD_="Meta";
12599  else if Formula eq 'Interaction' then _METHOD_="Computed";
12600  else if inputName eq '' then _METHOD_="Formula";
12601  else _METHOD_="Computed";
12602  if Formula = '' then Formula = "Mixture of variables";
12603  end;
12604  if _a then output;
12605  drop inputName LEVEL TYPE _MetaFlag;
12606  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12607  *Merge Statistics for Input Vars;
12608  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12609  by NAME;
12610  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 3 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12611  data WORK.TRANS_VARSTATS;
12612  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b);
12613  by NAME;
12614  if _a and _b then do;
12615  SOURCE='Input';
12616  _METHOD_="Original";
12617  end;
12618  if _a then output;
12619  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 3 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12620  *------------------------------------------------------------*;
12621  * Trans2: Combine statistics for class and interval variables;
12622  *------------------------------------------------------------*;
12623  data EMWS5.Trans2_STATISTICS;
12624  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12625  label SOURCE = "%sysfunc(sasmsg(sashelp.dmine, rpt_source_vlabel,  NOQUOTE))" _METHOD_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_method_vlabel,  NOQUOTE))" NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA =
12626     "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,   NOQUOTE))" NLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonmiss_vlabel, NOQUOTE))" NMISS =
12627     "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))" MIN = "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))" MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))" MEAN =
12628     "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,    NOQUOTE))" STD = "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,     NOQUOTE))" SKEWNESS = "%sysfunc(sasmsg(sashelp.dmine, rpt_skewness_vlabel, NOQUOTE))" KURTOSIS =
12629     "%sysfunc(sasmsg(sashelp.dmine, rpt_kurtosis_vlabel, NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
12630  set
12631  WORK.TRANS_CLASSSTATS
12632  WORK.TRANS_VARSTATS
12633  ;
12634  drop UNAME;
12635  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 3 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set EMWS5.TRANS2_STATISTICS has 6 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.15 seconds
      cpu time            0.01 seconds
      

12636  proc sort data=EMWS5.Trans2_STATISTICS;
12637  by SOURCE _METHOD_ NAME;
12638  run;

NOTE: There were 6 observations read from the data set EMWS5.TRANS2_STATISTICS.
NOTE: The data set EMWS5.TRANS2_STATISTICS has 6 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.25 seconds
      cpu time            0.01 seconds
      

12639  proc sort data = EMWS5.Trans2_STATISTICS NOTHREADS;
12640  by SOURCE NAME;
12641  run;

NOTE: There were 6 observations read from the data set EMWS5.TRANS2_STATISTICS.
NOTE: The data set EMWS5.TRANS2_STATISTICS has 6 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.20 seconds
      cpu time            0.01 seconds
      

12642  title9 ' ';
12643  proc print data = EMWS5.Trans2_STATISTICS(obs=500) noobs label;
12644  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervalinputStats_title, NOQUOTE))";
12645  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12646  var Name NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12647  where SOURCE eq 'INPUT' and mean ne .;
12648  run;

NOTE: No observations were selected from data set EMWS5.TRANS2_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS5.TRANS2_STATISTICS.
      WHERE (SOURCE='INPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

12649  proc print data = EMWS5.Trans2_STATISTICS(obs=500) noobs label;
12650  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervaloutputStats_title, NOQUOTE))";
12651  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12652  var Name _METHOD_ NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12653  where SOURCE eq 'OUTPUT' and mean ne .;
12654  run;

NOTE: No observations were selected from data set EMWS5.TRANS2_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS5.TRANS2_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12655  proc print data = EMWS5.Trans2_STATISTICS(obs=500) noobs label;
12656  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classinputStats_title, NOQUOTE))";
12657  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12658  var Name NLEVEL NMISS;
12659  where SOURCE eq 'INPUT' and nlevel ne .;
12660  run;

NOTE: No observations were selected from data set EMWS5.TRANS2_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS5.TRANS2_STATISTICS.
      WHERE (SOURCE='INPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12661  proc print data = EMWS5.Trans2_STATISTICS(obs=500) noobs label;
12662  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classoutputStats_title, NOQUOTE))";
12663  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12664  var Name _METHOD_ NLEVEL NMISS;
12665  where SOURCE eq 'OUTPUT' and nlevel ne .;
12666  run;

NOTE: No observations were selected from data set EMWS5.TRANS2_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS5.TRANS2_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12667  title9;
12668  title10;

12669  data EMWS5.Trans2_EMSCOREVAR;
12670  length Name $32 formula $300 file $200;
12671  keep NAME Formula file;
12672  set EMWS5.Trans2_STATISTICS;
12673  where SOURCE='Output';
12674  select( _METHOD_);
12675  when('Computed') do;
12676  file="TRANSFORMCODE\"!!strip(NAME)!!'.sas';
12677  formula = '';
12678  end;
12679  when('Formula') do;
12680  if Formula eq 'Mixture of variables' then do;
12681  file= "EDITORCODE.sas";
12682  formula = '';
12683  end;
12684  if Formula = 'User Code' then do;
12685  file= "EDITORCODE.sas";
12686  formula = '';
12687  end;
12688  end;
12689  otherwise;
12690  end;
12691  output;
12692  run;

NOTE: There were 3 observations read from the data set EMWS5.TRANS2_STATISTICS.
      WHERE SOURCE='Output';
NOTE: The data set EMWS5.TRANS2_EMSCOREVAR has 3 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.14 seconds
      cpu time            0.01 seconds
      

