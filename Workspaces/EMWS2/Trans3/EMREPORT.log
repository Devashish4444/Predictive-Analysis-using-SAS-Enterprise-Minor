*------------------------------------------------------------*
* Report Log
Date:                April 24, 2020
Time:                19:01:42
*------------------------------------------------------------*
12203  *------------------------------------------------------------*;
12204  * &msgString;
12205  *------------------------------------------------------------*;
12206  filename _flowref "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS2\Trans3\EMFLOWSCORE.sas";
12207  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK.TRANS_SCOREINPUTS;
12208  %INCLUDE _flowref;
12213  run;

NOTE: Dependency structure written to data set WORK.TRANS_SCOREINPUTS.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

12214  quit;
12215  data WORK.TRANS_SCOREINPUTS;
12216  set WORK.TRANS_SCOREINPUTS(keep=RHS rename=(RHS=NAME));
12217  length UNAME $32;
12218  UNAME = upcase(NAME);
12219  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12220  proc sort data=WORK.TRANS_SCOREINPUTS NODUPKEY;
12221  by UNAME;
12222  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12223  filename _flowref;
NOTE: Fileref _FLOWREF has been deassigned.
12224  %let SYSCC = 0;
12225  *------------------------------------------------------------*;
12226  * transformcombinevariables;
12227  *------------------------------------------------------------*;
12228  data WORK.TRANS_OUTPUTVARS;
12229  length Uname inputName $32 inputLevel $10 inputType $1 _MetaFlag 8;
12230  set
12231  EMWS2.Trans3_FORMULA
12232  ;
12233  _MetaFlag=0;
12234  uname = upcase(name);
12235  run;

NOTE: Variable inputName is uninitialized.
NOTE: Variable inputLevel is uninitialized.
NOTE: Variable inputType is uninitialized.
NOTE: There were 1 observations read from the data set EMWS2.TRANS3_FORMULA.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12236  data _temp;
12237  length UNAME $32;
12238  set EMWS2.Trans3_CMeta_TRAIN(keep=NAME LEVEL ROLE TYPE CREATOR LABEL);
12239  UNAME = upcase(name);
12240  where upcase(CREATOR) = upcase("Trans3");
12241  run;

NOTE: There were 1 observations read from the data set EMWS2.TRANS3_CMETA_TRAIN.
      WHERE UPCASE(CREATOR)='TRANS3';
NOTE: The data set WORK._TEMP has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

12242  proc sort data=_temp(drop=CREATOR);
12243  by UNAME;
12244  run;

NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 1 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12245  proc sort data=WORK.TRANS_OUTPUTVARS;
12246  by UNAME;
12247  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12248  data WORK.TRANS_OUTPUTVARS;
12249  merge WORK.TRANS_OUTPUTVARS _temp;
12250  by UNAME;
12251  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12252  *------------------------------------------------------------*;
12253  * Trans3: Get Metadata for the Score Inputs Variables;
12254  *------------------------------------------------------------*;
12255  data _temp;
12256  length UNAME $32;
12257  set EMWS2.Trans3_VariableSet(keep=NAME LEVEL TYPE LABEL);
12258  UNAME = upcase(name);
12259  run;

NOTE: There were 97 observations read from the data set EMWS2.TRANS3_VARIABLESET.
NOTE: The data set WORK._TEMP has 97 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12260  proc sort data=_temp;
12261  by UNAME;
12262  run;

NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 97 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12263  data WORK.TRANS_SCOREINPUTS;
12264  merge WORK.TRANS_SCOREINPUTS(in=_a) _temp(in=_b);
12265  by UNAME;
12266  if _a and _b then output;
12267  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: There were 97 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 3 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12268  *------------------------------------------------------------*;
12269  * Trans3: Computing Summary Statistics;
12270  *------------------------------------------------------------*;
12271  proc dmdb data=EMWS2.Trans3_TRAIN classout=WORK.TRANS_CLASSSTATS varout=WORK.TRANS_VARSTATS;
12272  class
12273  PCTL_DAYLAST_REV
12274  PCTL_DOLL24
12275  PCTL_FREQPRCH
12276  RFM
12277  ;
12278  ;
12279  run;

NOTE: Records processed = 48356   Memory used = 511K.
NOTE: There were 48356 observations read from the data set DATA.CATALOG2010.
NOTE: There were 48356 observations read from the data set EMWS2.IDS_DATA.
NOTE: There were 48356 observations read from the data set EMWS2.TRANS_TRAIN.
NOTE: View EMWS2.TRANS3_TRAIN.VIEW used (Total process time):
      real time           0.20 seconds
      cpu time            0.20 seconds
      
NOTE: There were 48356 observations read from the data set EMWS2.TRANS2_TRAIN.
NOTE: There were 48356 observations read from the data set EMWS2.TRANS3_TRAIN.
NOTE: The data set WORK.TRANS_CLASSSTATS has 56 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.21 seconds
      cpu time            0.21 seconds
      

12280  *------------------------------------------------------------*;
12281  * Trans3: Combine Information and Statistics for Class Variables;
12282  *------------------------------------------------------------*;
12283  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12284  by NAME;
12285  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12286  proc sort data=WORK.TRANS_CLASSSTATS;
12287  by NAME;
12288  run;

NOTE: There were 56 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 56 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12289  data WORK.TRANS_CLASSSTATS(keep=name nlevel nmiss);
12290  retain nlevel nmiss;
12291  set WORK.TRANS_CLASSSTATS;
12292  by Name;
12293  if first.Name then do;
12294  nlevel= 0;
12295  nmiss= 0;
12296  end;
12297  if (type='C' and CRAW='') or (type='N' and NRAW=.) then nmiss = FREQUENCY;
12298  else nlevel + 1;
12299  if last.name then output;
12300  run;

NOTE: There were 56 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12301  /*Merge Statistics for Class Output Vars */
12302  data WORK.TRANS_CLASSSTATS;
12303  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12304  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b keep=NAME InputName Formula _MetaFlag LEVEL TYPE LABEL);
12305  by NAME;
12306  if _a and _b then do;
12307  SOURCE='Output';
12308  if _MetaFlag = 1 then _METHOD_="Meta";
12309  else if Formula eq 'Interaction' then _METHOD_="Computed";
12310  else if inputName eq '' then _METHOD_="Formula";
12311  else _METHOD_="Computed";
12312  if Formula = '' then Formula = "User Code";
12313  end;
12314  if _a then output;
12315  drop inputName LEVEL TYPE _MetaFlag;
12316  run;

NOTE: There were 4 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 4 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12317  /*Merge Statistics for Class Input Vars */
12318  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12319  by NAME;
12320  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 3 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12321  data WORK.TRANS_CLASSSTATS;
12322  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b);
12323  by NAME;
12324  if _a and _b then do;
12325  SOURCE='Input';
12326  _METHOD_="Original";
12327  end;
12328  if _a then output;
12329  run;

NOTE: There were 4 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 4 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12330  *------------------------------------------------------------*;
12331  * Trans3: Combine Information and Statistics for Interval Variables;
12332  *------------------------------------------------------------*;
12333  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
12334  by NAME;
12335  run;

NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12336  proc sort data=WORK.TRANS_VARSTATS;
12337  by NAME;
12338  run;

NOTE: Input data set is empty.
NOTE: The data set WORK.TRANS_VARSTATS has 0 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12339  *Merge Statistics for Output Vars;
12340  data WORK.TRANS_VARSTATS;
12341  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12342  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b keep=NAME Formula InputName _MetaFlag LEVEL TYPE LABEL);
12343  by NAME;
12344  if _a and _b then do;
12345  SOURCE='Output';
12346  if _MetaFlag = 1 then _METHOD_="Meta";
12347  else if Formula eq 'Interaction' then _METHOD_="Computed";
12348  else if inputName eq '' then _METHOD_="Formula";
12349  else _METHOD_="Computed";
12350  if Formula = '' then Formula = "Mixture of variables";
12351  end;
12352  if _a then output;
12353  drop inputName LEVEL TYPE _MetaFlag;
12354  run;

NOTE: There were 0 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 0 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12355  *Merge Statistics for Input Vars;
12356  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
12357  by NAME;
12358  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 3 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12359  data WORK.TRANS_VARSTATS;
12360  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b);
12361  by NAME;
12362  if _a and _b then do;
12363  SOURCE='Input';
12364  _METHOD_="Original";
12365  end;
12366  if _a then output;
12367  run;

NOTE: There were 0 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 3 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 0 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12368  *------------------------------------------------------------*;
12369  * Trans3: Combine statistics for class and interval variables;
12370  *------------------------------------------------------------*;
12371  data EMWS2.Trans3_STATISTICS;
12372  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
12373  label SOURCE = "%sysfunc(sasmsg(sashelp.dmine, rpt_source_vlabel,  NOQUOTE))" _METHOD_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_method_vlabel,  NOQUOTE))" NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA =
12374     "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,   NOQUOTE))" NLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonmiss_vlabel, NOQUOTE))" NMISS =
12375     "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))" MIN = "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))" MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))" MEAN =
12376     "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,    NOQUOTE))" STD = "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,     NOQUOTE))" SKEWNESS = "%sysfunc(sasmsg(sashelp.dmine, rpt_skewness_vlabel, NOQUOTE))" KURTOSIS =
12377     "%sysfunc(sasmsg(sashelp.dmine, rpt_kurtosis_vlabel, NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
12378  set
12379  WORK.TRANS_CLASSSTATS
12380  WORK.TRANS_VARSTATS
12381  ;
12382  drop UNAME;
12383  run;

NOTE: There were 4 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 0 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set EMWS2.TRANS3_STATISTICS has 4 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.12 seconds
      cpu time            0.04 seconds
      

12384  proc sort data=EMWS2.Trans3_STATISTICS;
12385  by SOURCE _METHOD_ NAME;
12386  run;

NOTE: There were 4 observations read from the data set EMWS2.TRANS3_STATISTICS.
NOTE: The data set EMWS2.TRANS3_STATISTICS has 4 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.15 seconds
      cpu time            0.01 seconds
      

12387  proc sort data = EMWS2.Trans3_STATISTICS NOTHREADS;
12388  by SOURCE NAME;
12389  run;

NOTE: There were 4 observations read from the data set EMWS2.TRANS3_STATISTICS.
NOTE: The data set EMWS2.TRANS3_STATISTICS has 4 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.14 seconds
      cpu time            0.03 seconds
      

12390  title9 ' ';
12391  proc print data = EMWS2.Trans3_STATISTICS(obs=500) noobs label;
12392  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervalinputStats_title, NOQUOTE))";
12393  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12394  var Name NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12395  where SOURCE eq 'INPUT' and mean ne .;
12396  run;

NOTE: No observations were selected from data set EMWS2.TRANS3_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS3_STATISTICS.
      WHERE (SOURCE='INPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

12397  proc print data = EMWS2.Trans3_STATISTICS(obs=500) noobs label;
12398  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervaloutputStats_title, NOQUOTE))";
12399  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12400  var Name _METHOD_ NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12401  where SOURCE eq 'OUTPUT' and mean ne .;
12402  run;

NOTE: No observations were selected from data set EMWS2.TRANS3_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS3_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

12403  proc print data = EMWS2.Trans3_STATISTICS(obs=500) noobs label;
12404  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classinputStats_title, NOQUOTE))";
12405  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12406  var Name NLEVEL NMISS;
12407  where SOURCE eq 'INPUT' and nlevel ne .;
12408  run;

NOTE: No observations were selected from data set EMWS2.TRANS3_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS3_STATISTICS.
      WHERE (SOURCE='INPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12409  proc print data = EMWS2.Trans3_STATISTICS(obs=500) noobs label;
12410  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classoutputStats_title, NOQUOTE))";
12411  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12412  var Name _METHOD_ NLEVEL NMISS;
12413  where SOURCE eq 'OUTPUT' and nlevel ne .;
12414  run;

NOTE: No observations were selected from data set EMWS2.TRANS3_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS3_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12415  title9;
12416  title10;

12417  data EMWS2.Trans3_EMSCOREVAR;
12418  length Name $32 formula $300 file $200;
12419  keep NAME Formula file;
12420  set EMWS2.Trans3_STATISTICS;
12421  where SOURCE='Output';
12422  select( _METHOD_);
12423  when('Computed') do;
12424  file="TRANSFORMCODE\"!!strip(NAME)!!'.sas';
12425  formula = '';
12426  end;
12427  when('Formula') do;
12428  if Formula eq 'Mixture of variables' then do;
12429  file= "EDITORCODE.sas";
12430  formula = '';
12431  end;
12432  if Formula = 'User Code' then do;
12433  file= "EDITORCODE.sas";
12434  formula = '';
12435  end;
12436  end;
12437  otherwise;
12438  end;
12439  output;
12440  run;

NOTE: There were 1 observations read from the data set EMWS2.TRANS3_STATISTICS.
      WHERE SOURCE='Output';
NOTE: The data set EMWS2.TRANS3_EMSCOREVAR has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.00 seconds
      

