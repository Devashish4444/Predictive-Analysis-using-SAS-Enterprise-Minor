*------------------------------------------------------------*
* Score Log
Date:                April 25, 2020
Time:                16:44:50
*------------------------------------------------------------*
11655  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK._CODEINPUT1;
11656  Rev_GiftTimeLast = 1*GiftTimeLast;
11657  run;

NOTE: Dependency structure written to data set WORK._CODEINPUT1.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11658  quit;

11659  data WORK._CODEINPUT1;
11660  length ROLE $32 LEVEL $8 REPORT $1;
11661  retain _FormulaNum 1 ROLE "INPUT" REPORT "N" LEVEL "INTERVAL";
11662  set WORK._CODEINPUT1(keep=RHS rename=(RHS=INPUTNAME));
11663  run;

NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK._CODEINPUT1 has 1 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11664  proc sort data=WORK._CODEINPUT1 NODUPKEY;
11665  by INPUTNAME;
11666  run;

NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._CODEINPUT1 has 1 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11667  proc append base=WORK.TRANS_FORMULAVARS data=WORK._CODEINPUT1;
11668  run;

NOTE: Appending WORK._CODEINPUT1 to WORK.TRANS_FORMULAVARS.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11669  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK._CODEINPUT2;
11670  MonetaryValue = GiftAvgAll*GiftCntAll;
11671  run;

NOTE: Dependency structure written to data set WORK._CODEINPUT2.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

11672  quit;

11673  data WORK._CODEINPUT2;
11674  length ROLE $32 LEVEL $8 REPORT $1;
11675  retain _FormulaNum 2 ROLE "INPUT" REPORT "N" LEVEL "INTERVAL";
11676  set WORK._CODEINPUT2(keep=RHS rename=(RHS=INPUTNAME));
11677  run;

NOTE: There were 2 observations read from the data set WORK._CODEINPUT2.
NOTE: The data set WORK._CODEINPUT2 has 2 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11678  proc sort data=WORK._CODEINPUT2 NODUPKEY;
11679  by INPUTNAME;
11680  run;

NOTE: There were 2 observations read from the data set WORK._CODEINPUT2.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._CODEINPUT2 has 2 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11681  proc append base=WORK.TRANS_FORMULAVARS data=WORK._CODEINPUT2;
11682  run;

NOTE: Appending WORK._CODEINPUT2 to WORK.TRANS_FORMULAVARS.
NOTE: There were 2 observations read from the data set WORK._CODEINPUT2.
NOTE: 2 observations added.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

11683  data WORK.TRANS_FORMULAVARS;
11684  length UNAME $32;
11685  set WORK.TRANS_FORMULAVARS;
11686  UNAME = upcase(INPUTNAME);
11687  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11688  proc sort data=WORK.TRANS_FORMULAVARS;
11689  by UNAME;
11690  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11691  data _temp;
11692  set EMWS5.Trans_VariableSet(keep=NAME LEVEL ROLE TYPE REPORT rename=(NAME=INPUTNAME LEVEL=INPUTLEVEL ROLE=INPUTROLE TYPE=INPUTTYPE REPORT=INPUTREPORT));
11693  length UNAME $32;
11694  UNAME = upcase(INPUTNAME);
11695  run;

NOTE: There were 27 observations read from the data set EMWS5.TRANS_VARIABLESET.
NOTE: The data set WORK._TEMP has 27 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

11696  proc sort data=_temp;
11697  by UNAME;
11698  run;

NOTE: There were 27 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 27 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11699  data WORK.TRANS_FORMULAVARS;
11700  merge WORK.TRANS_FORMULAVARS(in=_a) _temp(in=_b);
11701  by UNAME;
11702  if _a and _b then output;
11703  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 27 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

11704  proc sort data=WORK.TRANS_FORMULAVARS;
11705  by _FormulaNum UNAME;
11706  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11707  data WORK.TRANS_FORMULAVARS _target(keep=_FormulaNum);
11708  length ROLE $32 REPORT $1;
11709  set WORK.TRANS_FORMULAVARS;
11710  by _FormulaNum;
11711  if INPUTROLE = 'TARGET' then output _target;
11712  if first._FormulaNum then do;
11713  if ^last._FormulaNum then do;
11714  INPUTNAME='';
11715  INPUTROLE='';
11716  INPUTTYPE='';
11717  INPUTREPORT='';
11718  end;
11719  output WORK.TRANS_FORMULAVARS;
11720  end;
11721  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 2 observations and 10 variables.
NOTE: The data set WORK._TARGET has 0 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11722  data _temp;
11723  set EMWS5.Trans_FORMULA;
11724  _FormulaNum = _N_;
11725  run;

NOTE: There were 2 observations read from the data set EMWS5.TRANS_FORMULA.
NOTE: The data set WORK._TEMP has 2 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

11726  data WORK.TRANS_CODEFORMULA;
11727  length Name $32 Formula $300 Role $32 Level $10 REPORT $1;
11728  label NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA = "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,  NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,  NOQUOTE))" LEVEL =
11729     "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel,  NOQUOTE))" REPORT = "%sysfunc(sasmsg(sashelp.dmine, meta_report_vlabel,  NOQUOTE))" _targetFlag = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetbased_vlabel,  NOQUOTE))" INPUTNAME =
11730     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputname_vlabel,  NOQUOTE))" INPUTLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputlevel_vlabel,  NOQUOTE))" INPUTROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputrole_vlabel,  NOQUOTE))" INPUTTYPE =
11731     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputtype_vlabel,  NOQUOTE))";
11732  drop _FormulaNum UNAME;
11733  _targetFlag = 0;
11734  merge _temp(in=_a) WORK.TRANS_FORMULAVARS(in=_b) _target(in=_c);
11735  by _FormulaNum;
11736  _targetFlag = 0;
11737  if _c then _targetFlag=1;
11738  if INPUT ne '' then if _a and ^_b then delete;
11739  if ROLE = '' then do;
11740  if INPUTROLE = '' then ROLE='INPUT';
11741  else ROLE = INPUTROLE;
11742  end;
11743  if REPORT = '' then do;
11744  if INPUTREPORT = '' then REPORT='N';
11745  else REPORT = INPUTREPORT;
11746  end;
11747  run;

NOTE: Variable INPUT is uninitialized.
NOTE: There were 2 observations read from the data set WORK._TEMP.
NOTE: There were 2 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 0 observations read from the data set WORK._TARGET.
NOTE: The data set WORK.TRANS_CODEFORMULA has 2 observations and 24 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

11748  filename _code "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS5\Trans\FORMULAFLOWCODE.sas";
11749  data _null_;
11750  set WORK.TRANS_CODEFORMULA;
11751  file _code;
11752  if type eq 'C' and length > 0 then do;
11753  put 'length ' name ' $' length ';';
11754  end;
11755  if format ne '' then do;
11756  put 'format ' name format ';';
11757  end;
11758  length deqLabel $202;
11759  if label ne '' then do;
11760  deqlabel = tranwrd(label, '"', '""');
11761  put 'label ' name '="' deqlabel '";';
11762  end;
11763  if name ne '' and formula ne '' then do;
11764  put name '=' formula ';';
11765  end;
11766  run;

NOTE: The file _CODE is:
      Filename=\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS5\Trans\FORMULAFLOWCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=25Apr2020:16:44:49,
      Create Time=25Apr2020:16:44:49

NOTE: 2 records were written to the file _CODE.
      The minimum record length was 34.
      The maximum record length was 38.
NOTE: There were 2 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

11767  filename _code;
NOTE: Fileref _CODE has been deassigned.

11768  filename _code "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS5\Trans\FORMULAPUBLISHCODE.sas";
11769  data _null_;
11770  set WORK.TRANS_CODEFORMULA;
11771  file _code;
11772  if _targetFlag eq 0 then do;
11773  if type eq 'C' and length > 0 then do;
11774  put 'length ' name ' $' length ';';
11775  end;
11776  if format ne '' then do;
11777  put 'format ' name format ';';
11778  end;
11779  length deqLabel $202;
11780  if label ne '' then do;
11781  deqlabel = tranwrd(label, '"', '""');
11782  put 'label ' name '="' deqlabel '";';
11783  end;
11784  if name ne '' and formula ne '' then do;
11785  put name '=' formula ';';
11786  end;
11787  end;
11788  run;

NOTE: The file _CODE is:
      Filename=\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS5\Trans\FORMULAPUBLISHCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=25Apr2020:16:44:49,
      Create Time=25Apr2020:16:44:49

NOTE: 2 records were written to the file _CODE.
      The minimum record length was 34.
      The maximum record length was 38.
NOTE: There were 2 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

11789  filename _code;
NOTE: Fileref _CODE has been deassigned.

11790  filename _code "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS5\Trans\FORMULADELTACODE.sas";
11791  data _null_;
11792  set WORK.TRANS_CODEFORMULA;
11793  file _code;
11794  length String $200;
11795  if ROLE eq '' then ROLE = 'REJECTED';
11796  if REPORT eq '' then REPORT = 'N';
11797  String = 'if NAME="'!!strip(name)!!'" then do;';
11798  put / string;
11799  String = '   ROLE ="'!!strip(role)!!'";';
11800  put string;
11801  String = '   REPORT ="'!!strip(report)!!'";';
11802  put string;
11803  if LEVEL ne '' then do;
11804  String = '   LEVEL ="'!!strip(level)!!'";';
11805  put string;
11806  end;
11807  put 'end;';
11808  if INPUTNAME ne '' then do;
11809  String = 'if NAME="'!!strip(INPUTNAME)!!'" then delete;';
11810  put String;
11811  end;
11812  run;

NOTE: The file _CODE is:
      Filename=\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS5\Trans\FORMULADELTACODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=25Apr2020:16:44:49,
      Create Time=25Apr2020:16:44:49

NOTE: 13 records were written to the file _CODE.
      The minimum record length was 0.
      The maximum record length was 35.
NOTE: There were 2 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

11813  filename _code;
NOTE: Fileref _CODE has been deassigned.

NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this session.
11814  proc print data = EMWS5.Trans_FORMULA(obs=500) noobs label;
11815  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_formulatransformations_title, NOQUOTE))";
11816  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11817  var Name ROLE LEVEL FORMULA;
11818  run;

NOTE: There were 2 observations read from the data set EMWS5.TRANS_FORMULA.
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11819  title9;
11820  title10;

11821  filename emflow "\\apporto.com\dfs\UNCC\Users\skokse_uncc\Desktop\BIA-PROJECT\Predictive Analysis\Workspaces\EMWS5\Trans\EMFLOWSCORE.sas";
11822  *------------------------------------------------------------*;
11823  * Trans: Scoring DATA data;
11824  *------------------------------------------------------------*;
11825  data EMWS5.Trans_TRAIN
11826  / view=EMWS5.Trans_TRAIN
11827  ;
11828  set EMWS5.Ids_DATA
11829  ;
11830  %inc emflow;
11836  run;

NOTE: DATA STEP view saved on file EMWS5.TRANS_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS5.IDS_DATA.VIEW used (Total process time):
      real time           0.14 seconds
      cpu time            0.03 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.15 seconds
      cpu time            0.03 seconds
      

11837  quit;
11838  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.

11839  *------------------------------------------------------------*;
11840  * Trans: Computing metadata for TRAIN data;
11841  *------------------------------------------------------------*;

NOTE: View EMWS5.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      
NOTE: View EMWS5.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      
